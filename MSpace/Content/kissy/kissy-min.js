/*
Copyright 2013, KISSY UI Library v1.40dev
MIT Licensed
build time: Feb 21 21:33
*/
var KISSY=function(a){var e=this,j,k=0;return j={__BUILD_TIME:"20130221213316",Env:{host:e},Config:{debug:"",fns:{}},version:"1.40dev",config:function(e,h){var i,g,d=this,f,b=j.Config,c=b.fns;j.isObject(e)?j.each(e,function(m,n){(f=c[n])?f.call(d,m):b[n]=m}):(i=c[e],h===a?g=i?i.call(d):b[e]:i?g=i.call(d,h):b[e]=h);return g},log:function(k,h,i){if(j.Config.debug&&(i&&(k=i+": "+k),e.console!==a&&console.log))console[h&&console[h]?h:"log"](k)},error:function(a){if(j.Config.debug)throw a instanceof
Error?a:Error(a);},guid:function(a){return(a||"")+k++}}}();
(function(a,e){function j(){}function k(c,b){var a;f?a=f(c):(j.prototype=c,a=new j);a.constructor=b;return a}function l(c,b,f,p,g,j){if(!b||!c)return c;f===e&&(f=d);var k=0,l,u,v;b[i]=c;j.push(b);if(p){v=p.length;for(k=0;k<v;k++)l=p[k],l in b&&h(l,c,b,f,p,g,j)}else{u=a.keys(b);v=u.length;for(k=0;k<v;k++)l=u[k],l!=i&&h(l,c,b,f,p,g,j)}return c}function h(c,b,f,p,g,h,j){if(p||!(c in b)||h){var k=b[c],f=f[c];if(k===f)k===e&&(b[c]=k);else if(h&&f&&(a.isArray(f)||a.isPlainObject(f)))f[i]?b[c]=f[i]:(h=k&&
(a.isArray(k)||a.isPlainObject(k))?k:a.isArray(f)?[]:{},b[c]=h,l(h,f,p,g,d,j));else if(f!==e&&(p||!(c in b)))b[c]=f}}var i="__MIX_CIRCULAR",g=this,d=!0,f=Object.create,b=!{toString:1}.propertyIsEnumerable("toString"),c="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toString,toLocaleString,valueOf".split(",");(function(c,b){for(var a in b)c[a]=b[a]})(a,{stamp:function(c,b,f){if(!c)return c;var f=f||"__~ks_stamped",d=c[f];if(!d&&!b)try{d=c[f]=a.guid(f)}catch(g){d=e}return d},keys:function(a){var f=
[],d,e;for(d in a)f.push(d);if(b)for(e=c.length-1;0<=e;e--)d=c[e],a.hasOwnProperty(d)&&f.push(d);return f},mix:function(c,b,f,a,d){"object"===typeof f&&(a=f.whitelist,d=f.deep,f=f.overwrite);var e=[],g=0;for(l(c,b,f,a,d,e);b=e[g++];)delete b[i];return c},merge:function(c){var c=a.makeArray(arguments),b={},f,d=c.length;for(f=0;f<d;f++)a.mix(b,c[f]);return b},augment:function(c,b){var f=a.makeArray(arguments),d=f.length-2,g=1,h=f[d],i=f[d+1];a.isArray(i)||(h=i,i=e,d++);a.isBoolean(h)||(h=e,d++);for(;g<
d;g++)a.mix(c.prototype,f[g].prototype||f[g],h,i);return c},extend:function(c,b,f,d){if(!b||!c)return c;var e=b.prototype,g;g=k(e,c);c.prototype=a.mix(g,c.prototype);c.superclass=k(e,b);f&&a.mix(g,f);d&&a.mix(c,d);return c},namespace:function(){var c=a.makeArray(arguments),b=c.length,f=null,e,h,i,j=c[b-1]===d&&b--;for(e=0;e<b;e++){i=(""+c[e]).split(".");f=j?g:this;for(h=g[i[0]]===f?1:0;h<i.length;++h)f=f[i[h]]=f[i[h]]||{}}return f}})})(KISSY);
(function(a,e){var j=Array.prototype,k=j.indexOf,l=j.lastIndexOf,h=j.filter,i=j.every,g=j.some,d=j.map;a.mix(a,{each:function(f,b,c){if(f){var m,d,g=0;m=f&&f.length;d=m===e||"function"===a.type(f);c=c||null;if(d)for(d=a.keys(f);g<d.length&&!(m=d[g],!1===b.call(c,f[m],m,f));g++);else for(d=f[0];g<m&&!1!==b.call(c,d,g,f);d=f[++g]);}return f},indexOf:k?function(f,b){return k.call(b,f)}:function(f,b){for(var c=0,a=b.length;c<a;++c)if(b[c]===f)return c;return-1},lastIndexOf:l?function(f,b){return l.call(b,
f)}:function(f,b){for(var c=b.length-1;0<=c&&b[c]!==f;c--);return c},unique:function(f,b){var c=f.slice();b&&c.reverse();for(var d=0,n,e;d<c.length;){for(e=c[d];(n=a.lastIndexOf(e,c))!==d;)c.splice(n,1);d+=1}b&&c.reverse();return c},inArray:function(f,b){return-1<a.indexOf(f,b)},filter:h?function(f,b,c){return h.call(f,b,c||this)}:function(f,b,c){var d=[];a.each(f,function(f,a,e){b.call(c||this,f,a,e)&&d.push(f)});return d},map:d?function(f,b,c){return d.call(f,b,c||this)}:function(f,b,c){for(var a=
f.length,d=Array(a),e=0;e<a;e++){var g="string"==typeof f?f.charAt(e):f[e];if(g||e in f)d[e]=b.call(c||this,g,e,f)}return d},reduce:function(f,b,c){var a=f.length;if("function"!==typeof b)throw new TypeError("callback is not function!");if(0===a&&2==arguments.length)throw new TypeError("arguments invalid");var d=0,g;if(3<=arguments.length)g=arguments[2];else{do{if(d in f){g=f[d++];break}d+=1;if(d>=a)throw new TypeError;}while(1)}for(;d<a;)d in f&&(g=b.call(e,g,f[d],d,f)),d++;return g},every:i?function(f,
b,c){return i.call(f,b,c||this)}:function(f,b,c){for(var a=f&&f.length||0,d=0;d<a;d++)if(d in f&&!b.call(c,f[d],d,f))return!1;return!0},some:g?function(f,b,c){return g.call(f,b,c||this)}:function(f,b,c){for(var a=f&&f.length||0,d=0;d<a;d++)if(d in f&&b.call(c,f[d],d,f))return!0;return!1},makeArray:function(f){if(null==f)return[];if(a.isArray(f))return f;if("number"!==typeof f.length||f.alert||"string"==typeof f||a.isFunction(f))return[f];for(var b=[],c=0,d=f.length;c<d;c++)b[c]=f[c];return b}})})(KISSY);
(function(a,e){function j(c){var b=typeof c;return null==c||"object"!==b&&"function"!==b}function k(){if(d)return d;var c=h;a.each(i,function(b){c+=b+"|"});c=c.slice(0,-1);return d=RegExp(c,"g")}function l(){if(f)return f;var c=h;a.each(g,function(b){c+=b+"|"});c+="&#(\\d{1,5});";return f=RegExp(c,"g")}var h="",i={"&amp;":"&","&gt;":">","&lt;":"<","&#x60;":"`","&#x2F;":"/","&quot;":'"',"&#x27;":"'"},g={},d,f,b=/[\-#$\^*()+\[\]{}|\\,.?\s]/g;(function(){for(var c in i)g[i[c]]=c})();a.mix(a,{urlEncode:function(c){return encodeURIComponent(""+
c)},urlDecode:function(c){return decodeURIComponent(c.replace(/\+/g," "))},fromUnicode:function(c){return c.replace(/\\u([a-f\d]{4})/ig,function(c,b){return String.fromCharCode(parseInt(b,16))})},escapeHTML:function(c){return(c+"").replace(k(),function(c){return g[c]})},escapeRegExp:function(c){return c.replace(b,"\\$&")},unEscapeHTML:function(c){return c.replace(l(),function(c,b){return i[c]||String.fromCharCode(+b)})},param:function(c,b,f,d){if(!a.isPlainObject(c))return h;b=b||"&";f=f||"=";a.isUndefined(d)&&
(d=!0);var g=[],i,k,l,q,u,v=a.urlEncode;for(i in c)if(u=c[i],i=v(i),j(u))g.push(i),u!==e&&g.push(f,v(u+h)),g.push(b);else if(a.isArray(u)&&u.length){k=0;for(q=u.length;k<q;++k)l=u[k],j(l)&&(g.push(i,d?v("[]"):h),l!==e&&g.push(f,v(l+h)),g.push(b))}g.pop();return g.join(h)},unparam:function(c,b,f){if("string"!=typeof c||!(c=a.trim(c)))return{};for(var f=f||"=",d={},g,h=a.urlDecode,c=c.split(b||"&"),i=0,j=c.length;i<j;++i){g=c[i].indexOf(f);if(-1==g)b=h(c[i]),g=e;else{b=h(c[i].substring(0,g));g=c[i].substring(g+
1);try{g=h(g)}catch(k){}a.endsWith(b,"[]")&&(b=b.substring(0,b.length-2))}b in d?a.isArray(d[b])?d[b].push(g):d[b]=[d[b],g]:d[b]=g}return d}})})(KISSY);
(function(a){function e(a,e,l){var h=[].slice,i=h.call(arguments,3),g=function(){},d=function(){var f=h.call(arguments);return e.apply(this instanceof g?this:l,a?f.concat(i):i.concat(f))};g.prototype=e.prototype;d.prototype=new g;return d}a.mix(a,{noop:function(){},bind:e(0,e,null,0),rbind:e(0,e,null,1),later:function(e,k,l,h,i){var k=k||0,g=e,d=a.makeArray(i),f;"string"==typeof e&&(g=h[e]);e=function(){g.apply(h,d)};f=l?setInterval(e,k):setTimeout(e,k);return{id:f,interval:l,cancel:function(){this.interval?
clearInterval(f):clearTimeout(f)}}},throttle:function(e,k,l){k=k||150;if(-1===k)return function(){e.apply(l||this,arguments)};var h=a.now();return function(){var i=a.now();i-h>k&&(h=i,e.apply(l||this,arguments))}},buffer:function(e,k,l){function h(){h.stop();i=a.later(e,k,0,l||this,arguments)}k=k||150;if(-1===k)return function(){e.apply(l||this,arguments)};var i=null;h.stop=function(){i&&(i.cancel(),i=0)};return h}})})(KISSY);
(function(a,e){function j(d,f,b){var c=d,e,g,o,p;if(!d)return c;if(d[i])return b[d[i]].destination;if("object"===typeof d){p=d.constructor;if(a.inArray(p,[Boolean,String,Number,Date,RegExp]))c=new p(d.valueOf());else if(e=a.isArray(d))c=f?a.filter(d,f):d.concat();else if(g=a.isPlainObject(d))c={};d[i]=p=a.guid();b[p]={destination:c,input:d}}if(e)for(d=0;d<c.length;d++)c[d]=j(c[d],f,b);else if(g)for(o in d)if(o!==i&&(!f||f.call(d,d[o],o,d)!==h))c[o]=j(d[o],f,b);return c}function k(d,f,b,c){if(d[g]===
f&&f[g]===d)return l;d[g]=f;f[g]=d;var m=function(c,b){return null!==c&&c!==e&&c[b]!==e},n;for(n in f)!m(d,n)&&m(f,n)&&b.push("expected has key '"+n+"', but missing from actual.");for(n in d)!m(f,n)&&m(d,n)&&b.push("expected missing key '"+n+"', but present in actual.");for(n in f)n!=g&&(a.equals(d[n],f[n],b,c)||c.push("'"+n+"' was '"+(f[n]?f[n].toString():f[n])+"' in expected, but was '"+(d[n]?d[n].toString():d[n])+"' in actual."));a.isArray(d)&&a.isArray(f)&&d.length!=f.length&&c.push("arrays were not the same length");
delete d[g];delete f[g];return 0===b.length&&0===c.length}var l=!0,h=!1,i="__~ks_cloned",g="__~ks_compared";a.mix(a,{equals:function(d,f,b,c){b=b||[];c=c||[];return d===f?l:d===e||null===d||f===e||null===f?null==d&&null==f:d instanceof Date&&f instanceof Date?d.getTime()==f.getTime():"string"==typeof d&&"string"==typeof f||a.isNumber(d)&&a.isNumber(f)?d==f:"object"===typeof d&&"object"===typeof f?k(d,f,b,c):d===f},clone:function(d,f){var b={},c=j(d,f,b);a.each(b,function(c){c=c.input;if(c[i])try{delete c[i]}catch(b){c[i]=
e}});b=null;return c},now:Date.now||function(){return+new Date}})})(KISSY);
(function(a,e){var j=/^[\s\xa0]+|[\s\xa0]+$/g,k=String.prototype.trim,l=/\\?\{([^{}]+)\}/g;a.mix(a,{trim:k?function(a){return null==a?"":k.call(a)}:function(a){return null==a?"":(a+"").replace(j,"")},substitute:function(a,i,g){return"string"!=typeof a||!i?a:a.replace(g||l,function(a,f){return"\\"===a.charAt(0)?a.slice(1):i[f]===e?"":i[f]})},ucfirst:function(a){a+="";return a.charAt(0).toUpperCase()+a.substring(1)},startsWith:function(a,e){return 0===a.lastIndexOf(e,0)},endsWith:function(a,e){var g=
a.length-e.length;return 0<=g&&a.indexOf(e,g)==g}})})(KISSY);
(function(a,e){var j={},k=Object.prototype,l=k.toString;a.mix(a,{isBoolean:0,isNumber:0,isString:0,isFunction:0,isArray:0,isDate:0,isRegExp:0,isObject:0,type:function(a){return null==a?""+a:j[l.call(a)]||"object"},isNull:function(a){return null===a},isUndefined:function(a){return a===e},isEmptyObject:function(a){for(var i in a)if(i!==e)return!1;return!0},isPlainObject:function(h){if(!h||"object"!==a.type(h)||h.nodeType||h.window==h)return!1;var i,g;try{if((g=h.constructor)&&!k.hasOwnProperty.call(h,
"constructor")&&!k.hasOwnProperty.call(g.prototype,"isPrototypeOf"))return!1}catch(d){return!1}for(i in h);return i===e||k.hasOwnProperty.call(h,i)}});a.each("Boolean,Number,String,Function,Array,Date,RegExp,Object".split(","),function(e,i){j["[object "+e+"]"]=i=e.toLowerCase();a["is"+e]=function(e){return a.type(e)==i}})})(KISSY);
(function(a,e){function j(a,f,d){if(a instanceof i)return d(a[b]);var g=a[b];if(a=a[c])a.push([f,d]);else if(l(g))j(g,f,d);else return f&&f(g);return e}function k(c){if(!(this instanceof k))return new k(c);this.promise=c||new h}function l(c){return c&&c instanceof h}function h(a){this[b]=a;a===e&&(this[c]=[])}function i(c){if(c instanceof i)return c;h.apply(this,arguments);return e}function g(c,b,a){function f(c){try{return b?b(c):c}catch(a){return new i(a)}}function d(c){try{return a?a(c):new i(c)}catch(b){return new i(b)}}
function e(c){l||(l=1,g.resolve(f(c)))}var g=new k,l=0;c instanceof h?j(c,e,function(c){l||(l=1,g.resolve(d(c)))}):e(c);return g.promise}function d(a){return!f(a)&&l(a)&&a[c]===e&&(!l(a[b])||d(a[b]))}function f(a){return l(a)&&a[c]===e&&a[b]instanceof i}var b="__promise_value",c="__promise_pendings";k.prototype={constructor:k,resolve:function(f){var d=this.promise,g;if(!(g=d[c]))return e;d[b]=f;g=[].concat(g);d[c]=e;a.each(g,function(c){j(d,c[0],c[1])});return f},reject:function(c){return this.resolve(new i(c))}};
h.prototype={constructor:h,then:function(c,b){return g(this,c,b)},fail:function(c){return g(this,0,c)},fin:function(c){return g(this,function(b){return c(b,!0)},function(b){return c(b,!1)})},isResolved:function(){return d(this)},isRejected:function(){return f(this)}};a.extend(i,h);KISSY.Defer=k;KISSY.Promise=h;h.Defer=k;a.mix(h,{when:g,isPromise:l,isResolved:d,isRejected:f,all:function(c){var b=c.length;if(!b)return c;for(var a=k(),f=0;f<c.length;f++)(function(f,d){g(f,function(f){c[d]=f;0===--b&&
a.resolve(c)},function(c){a.reject(c)})})(c[f],f);return a.promise}})})(KISSY);
(function(a){function e(a,e){for(var i=0,g=a.length-1,d=[],f;0<=g;g--)f=a[g],"."!=f&&(".."===f?i++:i?i--:d[d.length]=f);if(e)for(;i--;i)d[d.length]="..";return d=d.reverse()}var j=/^(\/?)([\s\S]+\/(?!$)|\/)?((?:\.{1,2}$|[\s\S]+?)?(\.[^.\/]*)?)$/,k={resolve:function(){var j="",h,i=arguments,g,d=0;for(h=i.length-1;0<=h&&!d;h--)g=i[h],"string"==typeof g&&g&&(j=g+"/"+j,d="/"==g.charAt(0));j=e(a.filter(j.split("/"),function(a){return!!a}),!d).join("/");return(d?"/":"")+j||"."},normalize:function(j){var h=
"/"==j.charAt(0),i="/"==j.slice(-1),j=e(a.filter(j.split("/"),function(a){return!!a}),!h).join("/");!j&&!h&&(j=".");j&&i&&(j+="/");return(h?"/":"")+j},join:function(){var e=a.makeArray(arguments);return k.normalize(a.filter(e,function(a){return a&&"string"==typeof a}).join("/"))},relative:function(e,h){var e=k.normalize(e),h=k.normalize(h),i=a.filter(e.split("/"),function(c){return!!c}),g=[],d,f,b=a.filter(h.split("/"),function(c){return!!c});f=Math.min(i.length,b.length);for(d=0;d<f&&i[d]==b[d];d++);
for(f=d;d<i.length;)g.push(".."),d++;g=g.concat(b.slice(f));return g=g.join("/")},basename:function(a,e){var i;i=(a.match(j)||[])[3]||"";e&&i&&i.slice(-1*e.length)==e&&(i=i.slice(0,-1*e.length));return i},dirname:function(a){var e=a.match(j)||[],a=e[1]||"",e=e[2]||"";if(!a&&!e)return".";e&&(e=e.substring(0,e.length-1));return a+e},extname:function(a){return(a.match(j)||[])[4]||""}};a.Path=k})(KISSY);
(function(a,e){function j(c){c._queryMap||(c._queryMap=a.unparam(c._query))}function k(c){this._query=c||""}function l(c,b){return encodeURI(c).replace(b,function(c){c=c.charCodeAt(0).toString(16);return"%"+(1==c.length?"0"+c:c)})}function h(c){if(c instanceof h)return c.clone();var b=this;a.mix(b,{scheme:"",userInfo:"",hostname:"",port:"",path:"",query:"",fragment:""});c=h.getComponents(c);a.each(c,function(c,f){c=c||"";if("query"==f)b.query=new k(c);else{try{c=a.urlDecode(c)}catch(d){}b[f]=c}});
return b}var i=/[#\/\?@]/g,g=/[#\?]/g,d=/[#@]/g,f=/#/g,b=RegExp("^(?:([\\w\\d+.-]+):)?(?://(?:([^/?#@]*)@)?([\\w\\d\\-\\u0100-\\uffff.+%]*|\\[[^\\]]+\\])(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$"),c=a.Path,m={scheme:1,userInfo:2,hostname:3,port:4,path:5,query:6,fragment:7};k.prototype={constructor:k,clone:function(){return new k(this.toString())},reset:function(c){this._query=c||"";this._queryMap=null;return this},count:function(){var c=0,b=this._queryMap,f;j(this);for(f in b)a.isArray(b[f])?
c+=b[f].length:c++;return c},has:function(c){var b;j(this);b=this._queryMap;return c?c in b:!a.isEmptyObject(b)},get:function(c){var b;j(this);b=this._queryMap;return c?b[c]:b},keys:function(){j(this);return a.keys(this._queryMap)},set:function(c,b){var f;j(this);f=this._queryMap;"string"==typeof c?this._queryMap[c]=b:(c instanceof k&&(c=c.get()),a.each(c,function(c,b){f[b]=c}));return this},remove:function(c){j(this);c?delete this._queryMap[c]:this._queryMap={};return this},add:function(c,b){var f=
this,d,g;a.isObject(c)?(c instanceof k&&(c=c.get()),a.each(c,function(c,b){f.add(b,c)})):(j(f),d=f._queryMap,g=d[c],g=g===e?b:[].concat(g).concat(b),d[c]=g);return f},toString:function(c){j(this);return a.param(this._queryMap,e,e,c)}};h.prototype={constructor:h,clone:function(){var c=new h,b=this;a.each(m,function(a,f){c[f]=b[f]});c.query=c.query.clone();return c},resolve:function(b){"string"==typeof b&&(b=new h(b));var f=0,d,e=this.clone();a.each("scheme,userInfo,hostname,port,path,query,fragment".split(","),
function(g){if(g=="path")if(f)e[g]=b[g];else{if(g=b.path){f=1;if(!a.startsWith(g,"/"))if(e.hostname&&!e.path)g="/"+g;else if(e.path){d=e.path.lastIndexOf("/");d!=-1&&(g=e.path.slice(0,d+1)+g)}e.path=c.normalize(g)}}else if(g=="query"){if(f||b.query.toString()){e.query=b.query.clone();f=1}}else if(f||b[g]){e[g]=b[g];f=1}});return e},getScheme:function(){return this.scheme},setScheme:function(c){this.scheme=c;return this},getHostname:function(){return this.hostname},setHostname:function(c){this.hostname=
c;return this},setUserInfo:function(c){this.userInfo=c;return this},getUserInfo:function(){return this.userInfo},setPort:function(c){this.port=c;return this},getPort:function(){return this.port},setPath:function(c){this.path=c;return this},getPath:function(){return this.path},setQuery:function(c){"string"==typeof c&&(a.startsWith(c,"?")&&(c=c.slice(1)),c=new k(l(c,d)));this.query=c;return this},getQuery:function(){return this.query},getFragment:function(){return this.fragment},setFragment:function(c){a.startsWith(c,
"#")&&(c=c.slice(1));this.fragment=c;return this},isSameOriginAs:function(c){return this.hostname.toLowerCase()==c.hostname.toLowerCase()&&this.scheme.toLowerCase()==c.scheme.toLowerCase()&&this.port.toLowerCase()==c.port.toLowerCase()},toString:function(b){var d=[],e,m;if(e=this.scheme)d.push(l(e,i)),d.push(":");if(e=this.hostname){d.push("//");if(m=this.userInfo)d.push(l(m,i)),d.push("@");d.push(encodeURIComponent(e));if(m=this.port)d.push(":"),d.push(m)}if(m=this.path)e&&!a.startsWith(m,"/")&&
(m="/"+m),m=c.normalize(m),d.push(l(m,g));if(b=this.query.toString.call(this.query,b))d.push("?"),d.push(b);if(b=this.fragment)d.push("#"),d.push(l(b,f));return d.join("")}};h.Query=k;h.getComponents=function(c){var f=(c||"").match(b)||[],d={};a.each(m,function(c,b){d[b]=f[c]});return d};a.Uri=h})(KISSY);
(function(a,e){function j(c){var b=0;return parseFloat(c.replace(/\./g,function(){return 0===b++?".":""}))}function k(c,b){var a;b.trident=0.1;if((a=c.match(/Trident\/([\d.]*)/))&&a[1])b.trident=j(a[1]);b.core="trident"}function l(c){var b,a="",f="",d,g=[6,9],h=i&&i.createElement("div"),l=[],q={webkit:e,trident:e,gecko:e,presto:e,chrome:e,safari:e,firefox:e,ie:e,opera:e,mobile:e,core:e,shell:e,phantomjs:e,os:e,ipad:e,iphone:e,ipod:e,ios:e,android:e,nodejs:e};h&&(h.innerHTML="<\!--[if IE {{version}}]><s></s><![endif]--\>".replace("{{version}}",
""),l=h.getElementsByTagName("s"));if(0<l.length){k(c,q);d=g[0];for(g=g[1];d<=g;d++)if(h.innerHTML="<\!--[if IE {{version}}]><s></s><![endif]--\>".replace("{{version}}",d),0<l.length){q[f="ie"]=d;break}}else if((d=c.match(/AppleWebKit\/([\d.]*)/))&&d[1]){q[a="webkit"]=j(d[1]);if((d=c.match(/Chrome\/([\d.]*)/))&&d[1])q[f="chrome"]=j(d[1]);else if((d=c.match(/\/([\d.]*) Safari/))&&d[1])q[f="safari"]=j(d[1]);if(/ Mobile\//.test(c)&&c.match(/iPad|iPod|iPhone/)){q.mobile="apple";if((d=c.match(/OS ([^\s]*)/))&&
d[1])q.ios=j(d[1].replace("_","."));b="ios";if((d=c.match(/iPad|iPod|iPhone/))&&d[0])q[d[0].toLowerCase()]=q.ios}else if(/ Android/.test(c)){if(/Mobile/.test(c)&&(b=q.mobile="android"),(d=c.match(/Android ([^\s]*);/))&&d[1])q.android=j(d[1])}else if(d=c.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))q.mobile=d[0].toLowerCase();if((d=c.match(/PhantomJS\/([^\s]*)/))&&d[1])q.phantomjs=j(d[1])}else if((d=c.match(/Presto\/([\d.]*)/))&&d[1]){if(q[a="presto"]=j(d[1]),(d=c.match(/Opera\/([\d.]*)/))&&
d[1]){q[f="opera"]=j(d[1]);if((d=c.match(/Opera\/.* Version\/([\d.]*)/))&&d[1])q[f]=j(d[1]);if((d=c.match(/Opera Mini[^;]*/))&&d)q.mobile=d[0].toLowerCase();else if((d=c.match(/Opera Mobi[^;]*/))&&d)q.mobile=d[0]}}else if((d=c.match(/MSIE\s([^;]*)/))&&d[1])q[f="ie"]=j(d[1]),k(c,q);else if(d=c.match(/Gecko/)){q[a="gecko"]=0.1;if((d=c.match(/rv:([\d.]*)/))&&d[1])q[a]=j(d[1]);if((d=c.match(/Firefox\/([\d.]*)/))&&d[1])q[f="firefox"]=j(d[1])}b||(/windows|win32/i.test(c)?b="windows":/macintosh|mac_powerpc/i.test(c)?
b="macintosh":/linux/i.test(c)?b="linux":/rhino/i.test(c)&&(b="rhino"));q.os=b;q.core=q.core||a;q.shell=f;return q}var h=a.Env.host,i=h.document,h=h.navigator,g=KISSY.UA=l(h&&h.userAgent||"");if("object"===typeof process){var d,f;if((d=process.versions)&&(f=d.node))g.os=process.platform,g.nodejs=j(f)}g.getDescriptorFromUserAgent=l;d="webkit,trident,gecko,presto,chrome,safari,firefox,ie,opera".split(",");f=i&&i.documentElement;var b="";f&&(a.each(d,function(c){var a=g[c];a&&(b+=" ks-"+c+(parseInt(a)+
""),b+=" ks-"+c)}),a.trim(b)&&(f.className=a.trim(f.className+b)))})(KISSY);
(function(a){var e=a.Env.host,j=a.UA,k=["Webkit","Moz","O","Ms"],l=e.document||{},h=!1,i="",g=l.documentElement,d,f="ontouchstart"in l&&!j.phantomjs,b=(l=l.documentMode)||j.ie,c=(j.nodejs&&"object"===typeof global?global:e).JSON;l&&9>l&&(c=0);g&&(d=g.style,"transition"in d?h=!0:a.each(k,function(c){c+"Transition"in d&&(i=c,h=!0)}));a.Features={isTouchSupported:function(){return f},isDeviceMotionSupported:function(){return!!e.DeviceMotionEvent},isHashChangeSupported:function(){return"onhashchange"in
e&&(!b||b>7)},isNativeJSONSupported:function(){return c},isTransitionSupported:function(){return h},getCss3Prefix:function(){return i}}})(KISSY);(function(a){function e(a){this.runtime=a}e.Status={INIT:0,LOADING:1,LOADED:2,ERROR:3,ATTACHED:4};a.Loader=e;a.Loader.Status=e.Status})(KISSY);
(function(a){function e(a,e,h){a=a[j]||(a[j]={});h&&(a[e]=a[e]||[]);return a[e]}a.namespace("Loader");var j="__events__"+a.now();KISSY.Loader.Target={on:function(a,j){e(this,a,1).push(j)},detach:function(k,l){var h,i;if(k){if(h=e(this,k))l&&(i=a.indexOf(l,h),-1!=i&&h.splice(i,1)),(!l||!h.length)&&delete (this[j]||(this[j]={}))[k]}else delete this[j]},fire:function(a,j){var h=e(this,a)||[],i,g=h.length;for(i=0;i<g;i++)h[i].call(null,j)}}})(KISSY);
(function(a){function e(c){if("string"==typeof c)return j(c);for(var b=[],a=0,d=c.length;a<d;a++)b[a]=j(c[a]);return b}function j(c){"/"==c.charAt(c.length-1)&&(c+="index");return c}function k(c,b,d){var c=c.Env.mods,f,e,b=a.makeArray(b);for(e=0;e<b.length;e++)if(f=c[b[e]],!f||f.status!==d)return 0;return 1}var l=a.Loader,h=a.Path,i=a.Env.host,g=a.startsWith,d=l.Status,f=d.ATTACHED,b=d.LOADED,c=a.Loader.Utils={},m=i.document;a.mix(c,{docHead:function(){return m.getElementsByTagName("head")[0]||m.documentElement},
normalDepModuleName:function(b,a){var d=0,f;if(!a)return a;if("string"==typeof a)return g(a,"../")||g(a,"./")?h.resolve(h.dirname(b),a):h.normalize(a);for(f=a.length;d<f;d++)a[d]=c.normalDepModuleName(b,a[d]);return a},createModulesInfo:function(b,d){a.each(d,function(a){c.createModuleInfo(b,a)})},createModuleInfo:function(c,b,d){var b=j(b),f=c.Env.mods,e=f[b];return e?e:f[b]=e=new l.Module(a.mix({name:b,runtime:c},d))},isAttached:function(c,b){return k(c,b,f)},isLoaded:function(c,a){return k(c,a,
b)},getModules:function(b,d){var e=[b],g,h,m,i,j=b.Env.mods;a.each(d,function(d){g=j[d];if(!g||"css"!=g.getType())h=c.unalias(b,d),(m=a.reduce(h,function(c,b){i=j[b];return c&&i&&i.status==f},!0))?e.push(j[h[0]].value):e.push(null)});return e},attachModsRecursively:function(b,a,d){var d=d||[],f,e=1,g=b.length,h=d.length;for(f=0;f<g;f++)e=c.attachModRecursively(b[f],a,d)&&e,d.length=h;return e},attachModRecursively:function(d,e,g){var h,m=e.Env.mods[d];if(!m)return 0;h=m.status;if(h==f)return 1;if(h!=
b)return 0;if(a.Config.debug){if(a.inArray(d,g))return g.push(d),0;g.push(d)}return c.attachModsRecursively(m.getNormalizedRequires(),e,g)?(c.attachMod(e,m),1):0},attachMod:function(a,d){if(d.status==b){var e=d.fn;e&&(d.value=e.apply(d,c.getModules(a,d.getRequiresWithAlias())));d.status=f;a.getLoader().fire("afterModAttached",{mod:d})}},getModNamesAsArray:function(c){"string"==typeof c&&(c=c.replace(/\s+/g,"").split(","));return c},normalizeModNames:function(b,a,d){return c.unalias(b,c.normalizeModNamesWithAlias(b,
a,d))},unalias:function(c,b){for(var a=[].concat(b),d,f,g,h=0,m,i=c.Env.mods;!h;){h=1;for(d=a.length-1;0<=d;d--)if((f=i[a[d]])&&(g=f.alias)){h=0;for(m=g.length-1;0<=m;m--)g[m]||g.splice(m,1);a.splice.apply(a,[d,1].concat(e(g)))}}return a},normalizeModNamesWithAlias:function(b,a,d){var b=[],f,g;if(a){f=0;for(g=a.length;f<g;f++)a[f]&&b.push(e(a[f]))}d&&(b=c.normalDepModuleName(d,b));return b},registerModule:function(d,f,e,g){var h=d.Env.mods,m=h[f];if(!m||!m.fn)c.createModuleInfo(d,f),m=h[f],a.mix(m,
{name:f,status:b,fn:e}),a.mix(m,g)},getMappedPath:function(c,b,a){for(var c=a||c.Config.mappedRules||[],d,a=0;a<c.length;a++)if(d=c[a],b.match(d[0]))return b.replace(d[0],d[1]);return b}})})(KISSY);
(function(a){function e(a,d){return d in a?a[d]:a.runtime.Config[d]}function j(e){a.mix(this,e)}function k(e){this.status=h.Status.INIT;a.mix(this,e)}var l=a.Path,h=a.Loader,i=h.Utils;a.augment(j,{getTag:function(){return e(this,"tag")},getName:function(){return this.name},getBase:function(){return e(this,"base")},getPrefixUriForCombo:function(){var a=this.getName();return this.getBase()+(a&&!this.isIgnorePackageNameInUri()?a+"/":"")},getBaseUri:function(){return e(this,"baseUri")},isDebug:function(){return e(this,
"debug")},isIgnorePackageNameInUri:function(){return e(this,"ignorePackageNameInUri")},getCharset:function(){return e(this,"charset")},isCombine:function(){return e(this,"combine")}});h.Package=j;a.augment(k,{setValue:function(a){this.value=a},getType:function(){var a=this.type;a||(this.type=a=".css"==l.extname(this.name).toLowerCase()?"css":"js");return a},getFullPath:function(){var a,d,f,b,c;if(!this.fullpath){f=this.getPackage();d=f.getBaseUri();c=this.getPath();if(f.isIgnorePackageNameInUri()&&
(b=f.getName()))c=l.relative(b,c);d=d.resolve(c);(a=this.getTag())&&d.query.set("t",a);this.fullpath=i.getMappedPath(this.runtime,d.toString())}return this.fullpath},getPath:function(){var a;if(!(a=this.path)){a=this.name;var d="."+this.getType(),f="-min";a=l.join(l.dirname(a),l.basename(a,d));this.getPackage().isDebug()&&(f="");a=this.path=a+f+d}return a},getValue:function(){return this.value},getName:function(){return this.name},getPackage:function(){var e;if(!(e=this.packageInfo)){e=this.runtime;
var d=this.name,f=e.config("packages"),b="",c;for(c in f)a.startsWith(d,c)&&c.length>b.length&&(b=c);e=this.packageInfo=f[b]||e.config("systemPackage")}return e},getTag:function(){return this.tag||this.getPackage().getTag()},getCharset:function(){return this.charset||this.getPackage().getCharset()},getRequiredMods:function(){var e=this.runtime.Env.mods;return a.map(this.getNormalizedRequires(),function(a){return e[a]})},getRequiresWithAlias:function(){var a=this.requiresWithAlias,d=this.requires;
if(!d||0==d.length)return d||[];a||(this.requiresWithAlias=a=i.normalizeModNamesWithAlias(this.runtime,d,this.name));return a},getNormalizedRequires:function(){var a,d=this.normalizedRequiresStatus,f=this.status,b=this.requires;if(!b||0==b.length)return b||[];if((a=this.normalizedRequires)&&d==f)return a;this.normalizedRequiresStatus=f;return this.normalizedRequires=i.normalizeModNames(this.runtime,b,this.name)}});h.Module=k})(KISSY);
(function(a){function e(){for(var i in h){var g=h[i],d=g.node,f,b=0;if(k.webkit)d.sheet&&(b=1);else if(d.sheet)try{d.sheet.cssRules&&(b=1)}catch(c){f=c.name,"NS_ERROR_DOM_SECURITY_ERR"==f&&(b=1)}b&&(g.callback&&g.callback.call(d),delete h[i])}l=a.isEmptyObject(h)?0:setTimeout(e,j)}var j=30,k=a.UA,l=0,h={};a.mix(a.Loader.Utils,{pollCss:function(a,g){var d;d=h[a.href]={};d.node=a;d.callback=g;l||e()}})})(KISSY);
(function(a){var e=a.Env.host.document,j=a.Loader.Utils,k=a.Path,l={},h=536>a.UA.webkit;a.mix(a,{getScript:function(i,g,d){var f=g,b=0,c,m,n,o;a.startsWith(k.extname(i).toLowerCase(),".css")&&(b=1);a.isPlainObject(f)&&(g=f.success,c=f.error,m=f.timeout,d=f.charset,n=f.attrs);f=l[i]=l[i]||[];f.push([g,c]);if(1<f.length)return f.node;var g=j.docHead(),p=e.createElement(b?"link":"script");n&&a.each(n,function(c,b){p.setAttribute(b,c)});b?(p.href=i,p.rel="stylesheet"):(p.src=i,p.async=!0);f.node=p;d&&
(p.charset=d);var t=function(c){var b;if(o){o.cancel();o=void 0}a.each(l[i],function(a){(b=a[c])&&b.call(p)});delete l[i]},d=!b;b&&(d=h?!1:"onload"in p);d?(p.onload=p.onreadystatechange=function(){var c=p.readyState;if(!c||c=="loaded"||c=="complete"){p.onreadystatechange=p.onload=null;t(0)}},p.onerror=function(){p.onerror=null;t(1)}):j.pollCss(p,function(){t(0)});m&&(o=a.later(function(){t(1)},1E3*m));b?g.appendChild(p):g.insertBefore(p,g.firstChild);return p}})})(KISSY);
(function(a,e){function j(d){"/"!=d.charAt(d.length-1)&&(d+="/");i?d=i.resolve(d):(a.startsWith(d,"file:")||(d="file:"+d),d=new a.Uri(d));return d}var k=a.Loader,l=k.Utils,h=a.Env.host.location,i,g,d=a.Config.fns;if(!a.UA.nodejs&&h&&(g=h.href))i=new a.Uri(g);d.map=function(a){var b=this.Config;return!1===a?b.mappedRules=[]:b.mappedRules=(b.mappedRules||[]).concat(a||[])};d.mapCombo=function(a){var b=this.Config;return!1===a?b.mappedComboRules=[]:b.mappedComboRules=(b.mappedComboRules||[]).concat(a||
[])};d.packages=function(d){var b,c=this.Config,g=c.packages=c.packages||{};return d?(a.each(d,function(c,d){b=c.name||d;var f=j(c.base||c.path);c.name=b;c.base=f.toString();c.baseUri=f;c.runtime=a;delete c.path;g[b]=new k.Package(c)}),e):!1===d?(c.packages={},e):g};d.modules=function(d){var b=this,c=b.Env;d&&a.each(d,function(d,f){l.createModuleInfo(b,f,d);a.mix(c.mods[f],d)})};d.base=function(a){var b=this.Config;if(!a)return b.base;a=j(a);b.base=a.toString();b.baseUri=a;return e}})(KISSY);
(function(a){var e=a.Loader,j=a.UA,k=e.Utils;a.augment(e,e.Target,{__currentMod:null,__startLoadTime:0,__startLoadModName:null,add:function(e,h,i){var g=this.runtime;if("string"==typeof e)k.registerModule(g,e,h,i);else if(a.isFunction(e))if(i=h,h=e,j.ie){var e=a.Env.host.document.getElementsByTagName("script"),d,f,b;for(f=e.length-1;0<=f;f--)if(b=e[f],"interactive"==b.readyState){d=b;break}e=d?d.getAttribute("data-mod-name"):this.__startLoadModName;k.registerModule(g,e,h,i);this.__startLoadModName=
null;this.__startLoadTime=0}else this.__currentMod={fn:h,config:i}}})})(KISSY);
(function(a,e){function j(c){a.mix(this,{fn:c,waitMods:{},requireLoadedMods:{}})}function k(a,d,f){var e,h=d.length;for(e=0;e<h;e++){var m=a,i=d[e],j=f,k=m.runtime,x=void 0,A=void 0,x=k.Env.mods,y=x[i];y||(g.createModuleInfo(k,i),y=x[i]);x=y.status;x!=n&&(x===c?j.loadModRequires(m,y):(A=j.isModWait(i),A||(j.addWaitMod(i),x<=b&&l(m,y,j))))}}function l(c,h,i){function j(){h.fn?(f[n]||(f[n]=1),i.loadModRequires(c,h),i.removeWaitMod(n),i.check()):h.status=m}var k=c.runtime,n=h.getName(),l=h.getCharset(),
v=h.getFullPath(),w=0,x=d.ie,A="css"==h.getType();h.status=b;x&&!A&&(c.__startLoadModName=n,c.__startLoadTime=Number(+new Date));a.getScript(v,{attrs:x?{"data-mod-name":n}:e,success:function(){if(h.status==b)if(A)g.registerModule(k,n,a.noop);else if(w=c.__currentMod){g.registerModule(k,n,w.fn,w.config);c.__currentMod=null}a.later(j)},error:j,charset:l})}var h,i,g,d,f={},b,c,m,n;h=a.Loader;i=h.Status;g=h.Utils;d=a.UA;b=i.LOADING;c=i.LOADED;m=i.ERROR;n=i.ATTACHED;j.prototype={constructor:j,check:function(){var c=
this.fn;c&&a.isEmptyObject(this.waitMods)&&(c(),this.fn=null)},addWaitMod:function(c){this.waitMods[c]=1},removeWaitMod:function(c){delete this.waitMods[c]},isModWait:function(c){return this.waitMods[c]},loadModRequires:function(c,b){var a=this.requireLoadedMods,d=b.name;a[d]||(a[d]=1,a=b.getNormalizedRequires(),k(c,a,this))}};a.augment(h,{use:function(c,b,a){var d,f=new j(function(){g.attachModsRecursively(d,e);b&&b.apply(e,g.getModules(e,c))}),e=this.runtime,c=g.getModNamesAsArray(c),c=g.normalizeModNamesWithAlias(e,
c);d=g.unalias(e,c);k(this,d,f);a?f.check():setTimeout(function(){f.check()},0);return this}})})(KISSY);
(function(a,e){function j(c,b,d){var f=c&&c.length;f?a.each(c,function(c){a.getScript(c,function(){--f||b()},d)}):b()}function k(c){a.mix(this,{runtime:c,queue:[],loading:0})}function l(c){if(c.queue.length){var b=c.queue.shift();i(c,b)}}function h(c,b){c.queue.push(b)}function i(c,b){function f(){x&&w&&(m.attachModsRecursively(h,B)?k.apply(null,m.getModules(B,e)):i(c,b))}var e=b.modNames,h=b.unaliasModNames,k=b.fn,l,u,v,w,x,A,y,B=c.runtime;c.loading=1;l=c.calculate(h);m.createModulesInfo(B,l);l=
c.getComboUrls(l);u=l.css;A=0;for(y in u)A++;w=0;x=!A;for(y in u)j(u[y],function(){if(!--A){for(y in u)a.each(u[y].mods,function(c){m.registerModule(B,c.name,a.noop)});g(u);x=1;f()}},u[y].charset);v=l.js;d(v,function(c){(w=c)&&g(v);f()})}function g(c){if(a.Config.debug){var b=[],d,f=[];for(d in c)f.push.apply(f,c[d]),a.each(c[d].mods,function(c){b.push(c.name)})}}function d(b,d){var f,g,h=0;for(f in b)h++;if(h)for(f in g=1,b)(function(f){j(b[f],function(){a.each(b[f].mods,function(b){return!b.fn?
(b.status=c.ERROR,g=0,!1):e});g&&!--h&&d(1)},b[f].charset)})(f);else d(1)}function f(c,b,d){var e=c.runtime,g,h;g=c.runtime.Env.mods[b];var i=d[b];if(i)return i;d[b]=i={};if(g&&!m.isAttached(e,b)){b=g.getNormalizedRequires();for(g=0;g<b.length;g++)h=b[g],!m.isLoaded(e,h)&&!m.isAttached(e,h)&&(i[h]=1),h=f(c,h,d),a.mix(i,h)}return i}var b=a.Loader,c=b.Status,m=b.Utils;a.augment(k,b.Target);a.augment(k,{clear:function(){this.loading=0},use:function(c,b,a){var d=this,f=d.runtime,c=m.getModNamesAsArray(c),
c=m.normalizeModNamesWithAlias(f,c),e=m.unalias(f,c);m.isAttached(f,e)?b&&(a?b.apply(null,m.getModules(f,c)):setTimeout(function(){b.apply(null,m.getModules(f,c))},0)):(h(d,{modNames:c,unaliasModNames:e,fn:function(){setTimeout(function(){d.loading=0;l(d)},0);b&&b.apply(this,arguments)}}),d.loading||l(d))},add:function(c,b,a){m.registerModule(this.runtime,c,b,a)},calculate:function(c){var b={},d,e,g,h=this.runtime,i={};for(d=0;d<c.length;d++)e=c[d],m.isAttached(h,e)||(m.isLoaded(h,e)||(b[e]=1),a.mix(b,
f(this,e,i)));c=[];for(g in b)c.push(g);return c},getComboUrls:function(c){var b=this,d,f=b.runtime,e=f.Config,g={};a.each(c,function(c){var c=b.runtime.Env.mods[c],a=c.getPackage(),d=c.getType(),f,e=a.getName();g[e]=g[e]||{};if(!(f=g[e][d]))f=g[e][d]=g[e][d]||[],f.packageInfo=a;f.push(c)});var h={js:{},css:{}},i,j,k,c=e.comboPrefix,l=e.comboSep,A=e.comboMaxFileNum,y=e.comboMaxUrlLength;for(j in g)for(k in g[j]){i=[];var B=g[j][k],D=B.packageInfo,C=(d=D.getTag())?"?t="+encodeURIComponent(d):"",F=
C.length,z,E,H,G=D.getPrefixUriForCombo();h[k][j]=[];h[k][j].charset=D.getCharset();h[k][j].mods=[];z=G+c;H=z.length;var I=function(){h[k][j].push(m.getMappedPath(f,z+i.join(l)+C,e.mappedComboRules))};for(d=0;d<B.length;d++)if(E=B[d].getFullPath(),h[k][j].mods.push(B[d]),!D.isCombine()||!a.startsWith(E,G))h[k][j].push(E);else if(E=E.slice(G.length).replace(/\?.*$/,""),i.push(E),i.length>A||H+i.join(l).length+F>y)i.pop(),I(),i=[],d--;i.length&&I()}return h}});b.Combo=k})(KISSY);
(function(a,e){function j(){var g=/^(.*)(seed|kissy)(?:-min)?\.js[^/]*/i,d=/(seed|kissy)(?:-min)?\.js/i,f,b,c=l.host.document.getElementsByTagName("script"),h=c[c.length-1],c=h.src,h=(h=h.getAttribute("data-config"))?(new Function("return "+h))():{};f=h.comboPrefix=h.comboPrefix||"??";b=h.comboSep=h.comboSep||",";var i,j=c.indexOf(f);-1==j?i=c.replace(g,"$1"):(i=c.substring(0,j),"/"!=i.charAt(i.length-1)&&(i+="/"),c=c.substring(j+f.length).split(b),a.each(c,function(c){return c.match(d)?(i+=c.replace(g,
"$1"),!1):e}));return a.mix({base:i},h)}a.mix(a,{add:function(a,d,f){this.getLoader().add(a,d,f)},use:function(a,d){var f=this.getLoader();f.use.apply(f,arguments)},getLoader:function(){var e=this.Env;return this.Config.combine&&!a.UA.nodejs?e._comboLoader:e._loader},require:function(a){return h.getModules(this,[a])[1]}});var k=a.Loader,l=a.Env,h=k.Utils,i=a.Loader.Combo;a.UA.nodejs?a.config({charset:"utf-8",base:__dirname.replace(/\\/g,"/").replace(/\/$/,"")+"/"}):a.config(a.mix({comboMaxUrlLength:2E3,
comboMaxFileNum:40,charset:"utf-8",tag:"20130221213316"},j()));a.config("systemPackage",new k.Package({name:"",runtime:a}));l.mods={};l._loader=new k(a);i&&(l._comboLoader=new i(a))})(KISSY);
(function(a,e){function j(){h&&p(k,n,j);d.resolve(a)}var k=a.Env.host,l=a.UA,h=k.document,i=h&&h.documentElement,g=k.location,d=new a.Defer,f=d.promise,b=/^#?([\w-]+)$/,c=/\S/,m=!(!h||!h.addEventListener),n="load",o=m?function(c,b,a){c.addEventListener(b,a,!1)}:function(c,b,a){c.attachEvent("on"+b,a)},p=m?function(c,b,a){c.removeEventListener(b,a,!1)}:function(c,b,a){c.detachEvent("on"+b,a)};a.mix(a,{isWindow:function(c){return null!=c&&c==c.window},parseXML:function(c){if(c.documentElement)return c;
var b;try{k.DOMParser?b=(new DOMParser).parseFromString(c,"text/xml"):(b=new ActiveXObject("Microsoft.XMLDOM"),b.async=!1,b.loadXML(c))}catch(a){b=e}!b||!b.documentElement||b.getElementsByTagName("parsererror");return b},globalEval:function(b){b&&c.test(b)&&(k.execScript||function(c){k.eval.call(k,c)})(b)},ready:function(c){f.then(c);return this},available:function(c,d){var c=(c+"").match(b)[1],f=1,e,g=a.later(function(){((e=h.getElementById(c))&&(d(e)||1)||500<++f)&&g.cancel()},40,!0)}});if(g&&-1!==
(g.search||"").indexOf("ks-debug"))a.Config.debug=!0;(function(){if(!h||"complete"===h.readyState)j();else if(o(k,n,j),m){var c=function(){p(h,"DOMContentLoaded",c);j()};o(h,"DOMContentLoaded",c)}else{var b=function(){"complete"===h.readyState&&(p(h,"readystatechange",b),j())};o(h,"readystatechange",b);var a,d=i&&i.doScroll;try{a=null===k.frameElement}catch(f){a=!1}if(d&&a){var e=function(){try{d("left"),j()}catch(c){setTimeout(e,40)}};e()}}})();if(l.ie)try{h.execCommand("BackgroundImageCache",!1,
!0)}catch(t){}})(KISSY,void 0);(function(a){a.config({packages:{gallery:{base:a.Config.baseUri.resolve("../").toString()}},modules:{core:{alias:"dom,event,io,anim,base,node,json,ua".split(",")}}})})(KISSY);
(function(a,e,j){a({anim:{alias:["anim/facade"]}});a({"anim/base":{requires:["dom","event/custom"]}});a({"anim/facade":{requires:["dom","anim/base","anim/timer",KISSY.Features.isTransitionSupported()?"anim/transition":""]}});a({"anim/timer":{requires:["dom","event","anim/base"]}});a({"anim/transition":{requires:["dom","event","anim/base"]}});a({base:{requires:["event/custom"]}});a({button:{requires:["component/base","event"]}});a({calendar:{requires:["node","event"]}});a({color:{requires:["base"]}});
a({combobox:{requires:["dom","component/base","node","menu","io"]}});a({"component/base":{requires:["rich-base","node","event"]}});a({"component/extension":{requires:["dom","node"]}});a({"component/plugin/drag":{requires:["rich-base","dd/base"]}});a({"component/plugin/resize":{requires:["resizable"]}});a({datalazyload:{requires:["dom","event","base"]}});a({dd:{alias:["dd/base","dd/droppable"]}});a({"dd/base":{requires:["dom","node","event","rich-base","base"]}});a({"dd/droppable":{requires:["dd/base",
"dom","node","rich-base"]}});a({"dd/plugin/constrain":{requires:["base","node"]}});a({"dd/plugin/proxy":{requires:["node","base","dd/base"]}});a({"dd/plugin/scroll":{requires:["dd/base","base","node","dom"]}});a({dom:{alias:["dom/base",9>j.ie?"dom/ie":""]}});a({"dom/ie":{requires:["dom/base"]}});a({editor:{requires:["htmlparser","component/base","core"]}});a({event:{alias:["event/base","event/dom","event/custom"]}});a({"event/custom":{requires:["event/base"]}});a({"event/dom":{alias:["event/dom/base",
e.isTouchSupported()?"event/dom/touch":"",e.isDeviceMotionSupported()?"event/dom/shake":"",e.isHashChangeSupported()?"":"event/dom/hashchange",9>j.ie?"event/dom/ie":"",j.ie?"":"event/dom/focusin"]}});a({"event/dom/base":{requires:["dom","event/base"]}});a({"event/dom/focusin":{requires:["event/dom/base"]}});a({"event/dom/hashchange":{requires:["event/dom/base","dom"]}});a({"event/dom/ie":{requires:["event/dom/base","dom"]}});a({"event/dom/shake":{requires:["event/dom/base"]}});a({"event/dom/touch":{requires:["event/dom/base",
"dom"]}});a({imagezoom:{requires:["node","overlay"]}});a({ajax:{alias:["io"]}});a({io:{requires:["dom","event","json"]}});a({json:{alias:["json/facade"]}});a({"json/facade":{requires:[KISSY.Features.isNativeJSONSupported()?"":"json/json2"]}});a({kison:{requires:["base"]}});a({menu:{requires:["component/extension","node","component/base","event"]}});a({menubutton:{requires:["node","menu","button","component/base"]}});a({mvc:{requires:["event","base","io","json","node"]}});a({node:{requires:["dom",
"event/dom","anim"]}});a({overlay:{requires:["node","component/base","component/extension","event"]}});a({resizable:{requires:["node","rich-base","dd/base"]}});a({"rich-base":{requires:["base"]}});a({scrollview:{alias:["scrollview/base"]}});a({separator:{requires:["component/base"]}});a({"split-button":{requires:["component/base","button","menubutton"]}});a({stylesheet:{requires:["dom"]}});a({swf:{requires:["dom","json","base"]}});a({switchable:{requires:["dom","event","anim",KISSY.Features.isTouchSupported()?
"dd/base":""]}});a({tabs:{requires:["button","toolbar","component/base"]}});a({toolbar:{requires:["component/base","node"]}});a({tree:{requires:["node","component/base","event"]}});a({waterfall:{requires:["node","base"]}});a({xtemplate:{alias:["xtemplate/facade"]}});a({"xtemplate/compiler":{requires:["xtemplate/runtime"]}});a({"xtemplate/facade":{requires:["xtemplate/runtime","xtemplate/compiler"]}})})(function(a){KISSY.config("modules",a)},KISSY.Features,KISSY.UA);
(function(a){a.add("empty",a.noop);a.add("promise",function(){return a.Promise});a.add("ua",function(){return a.UA});a.add("uri",function(){return a.Uri});a.add("path",function(){return a.Path});a.UA.nodejs&&(a.KISSY=a,module.exports=a)})(KISSY);
KISSY.add("dom/base/api",function(a){var e=a.Env.host,j=a.UA,k={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12},l={isCustomDomain:function(a){var a=a||e,i=a.document.domain,a=a.location.hostname;return i!=a&&i!="["+a+"]"},getEmptyIframeSrc:function(a){a=a||e;return j.ie&&l.isCustomDomain(a)?"javascript:void(function(){"+
encodeURIComponent("document.open();document.domain='"+a.document.domain+"';document.close();")+"}())":""},NodeType:k,getWindow:function(a){return!a?e:"scrollTo"in a&&a.document?a:a.nodeType==k.DOCUMENT_NODE?a.defaultView||a.parentWindow:!1},_isNodeList:function(a){return a&&!a.nodeType&&a.item&&!a.setTimeout},nodeName:function(a){var e=l.get(a),a=e.nodeName.toLowerCase();j.ie&&(e=e.scopeName)&&"HTML"!=e&&(a=e.toLowerCase()+":"+a);return a},_RE_NUM_NO_PX:RegExp("^("+/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source+
")(?!px)[a-z%]+$","i")};a.mix(l,k);return l});
KISSY.add("dom/base/attr",function(a,e,j){function k(c,b){var b=t[b]||b,a=s[b];return a&&a.get?a.get(c,b):c[b]}var l=a.Env.host.document,h=e.NodeType,i=(l=l&&l.documentElement)&&l.textContent===j?"innerText":"textContent",g=e.nodeName,d=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,f=/^(?:button|input|object|select|textarea)$/i,b=/^a(?:rea)?$/i,c=/:|^on/,m=/\r/g,n={},o={val:1,css:1,html:1,text:1,data:1,width:1,height:1,
offset:1,scrollTop:1,scrollLeft:1},p={tabindex:{get:function(c){var a=c.getAttributeNode("tabindex");return a&&a.specified?parseInt(a.value,10):f.test(c.nodeName)||b.test(c.nodeName)&&c.href?0:j}}},t={hidefocus:"hideFocus",tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},r={get:function(c,
b){return e.prop(c,b)?b.toLowerCase():j},set:function(c,b,a){!1===b?e.removeAttr(c,a):(b=t[a]||a,b in c&&(c[b]=!0),c.setAttribute(a,a.toLowerCase()));return a}},s={},q={},u={select:{get:function(c){var b=c.selectedIndex,a=c.options,d;if(0>b)return null;if("select-one"===c.type)return e.val(a[b]);c=[];b=0;for(d=a.length;b<d;++b)a[b].selected&&c.push(e.val(a[b]));return c},set:function(c,b){var d=a.makeArray(b);a.each(c.options,function(c){c.selected=a.inArray(e.val(c),d)});d.length||(c.selectedIndex=
-1);return d}}};a.each(["radio","checkbox"],function(c){u[c]={get:function(c){return null===c.getAttribute("value")?"on":c.value},set:function(c,b){if(a.isArray(b))return c.checked=a.inArray(e.val(c),b)}}});p.style={get:function(c){return c.style.cssText}};a.mix(e,{_valHooks:u,_propFix:t,_attrHooks:p,_propHooks:s,_attrNodeHook:q,_attrFix:n,prop:function(c,b,d){var f=e.query(c),g,h;if(a.isPlainObject(b))return a.each(b,function(c,b){e.prop(f,b,c)}),j;b=t[b]||b;h=s[b];if(d!==j)for(c=f.length-1;0<=c;c--)g=
f[c],h&&h.set?h.set(g,d,b):g[b]=d;else if(f.length)return k(f[0],b);return j},hasProp:function(c,b){var a=e.query(c),d,f=a.length,g;for(d=0;d<f;d++)if(g=a[d],k(g,b)!==j)return!0;return!1},removeProp:function(c,b){var b=t[b]||b,a=e.query(c),d,f;for(d=a.length-1;0<=d;d--){f=a[d];try{f[b]=j,delete f[b]}catch(g){}}},attr:function(b,f,i,m){var k=e.query(b),l=k[0];if(a.isPlainObject(f)){var m=i,t;for(t in f)e.attr(k,t,f[t],m);return j}if(!(f=a.trim(f)))return j;if(m&&o[f])return e[f](b,i);f=f.toLowerCase();
if(m&&o[f])return e[f](b,i);f=n[f]||f;b=d.test(f)?r:c.test(f)?q:p[f];if(i===j){if(l&&l.nodeType===h.ELEMENT_NODE){"form"==g(l)&&(b=q);if(b&&b.get)return b.get(l,f);f=l.getAttribute(f);return null===f?j:f}}else for(m=k.length-1;0<=m;m--)if((l=k[m])&&l.nodeType===h.ELEMENT_NODE)"form"==g(l)&&(b=q),b&&b.set?b.set(l,i,f):l.setAttribute(f,""+i);return j},removeAttr:function(c,b){var b=b.toLowerCase(),b=n[b]||b,a=e.query(c),f,g,i;for(i=a.length-1;0<=i;i--)if(g=a[i],g.nodeType==h.ELEMENT_NODE&&(g.removeAttribute(b),
d.test(b)&&(f=t[b]||b)in g))g[f]=!1},hasAttr:l&&!l.hasAttribute?function(c,b){var b=b.toLowerCase(),a=e.query(c),d,f;for(d=0;d<a.length;d++)if(f=a[d],(f=f.getAttributeNode(b))&&f.specified)return!0;return!1}:function(c,b){var a=e.query(c),d,f=a.length;for(d=0;d<f;d++)if(a[d].hasAttribute(b))return!0;return!1},val:function(c,b){var d,f,h,i,k;if(b===j){if(h=e.get(c)){if((d=u[g(h)]||u[h.type])&&"get"in d&&(f=d.get(h,"value"))!==j)return f;f=h.value;return"string"===typeof f?f.replace(m,""):null==f?"":
f}return j}f=e.query(c);for(i=f.length-1;0<=i;i--){h=f[i];if(1!==h.nodeType)break;k=b;null==k?k="":"number"===typeof k?k+="":a.isArray(k)&&(k=a.map(k,function(c){return c==null?"":c+""}));d=u[g(h)]||u[h.type];if(!d||!("set"in d)||d.set(h,k,"value")===j)h.value=k}return j},text:function(c,b){var a,d,f;if(b===j){a=e.get(c);if(a.nodeType==h.ELEMENT_NODE)return a[i]||"";if(a.nodeType==h.TEXT_NODE)return a.nodeValue}else{d=e.query(c);for(f=d.length-1;0<=f;f--)a=d[f],a.nodeType==h.ELEMENT_NODE?a[i]=b:a.nodeType==
h.TEXT_NODE&&(a.nodeValue=b)}return j}});return e},{requires:["./api"]});KISSY.add("dom/base",function(a,e){a.mix(a,{DOM:e,get:e.get,query:e.query});return e},{requires:"./base/api,./base/attr,./base/class,./base/create,./base/data,./base/insertion,./base/offset,./base/style,./base/selector,./base/traversal".split(",")});
KISSY.add("dom/base/class",function(a,e,j){function k(g,d,f,b){if(!(d=a.trim(d)))return b?!1:j;var g=e.query(g),c=g.length,i=d.split(h),d=[],k,o;for(o=0;o<i.length;o++)(k=a.trim(i[o]))&&d.push(k);for(o=0;o<c;o++)if(i=g[o],i.nodeType==l.ELEMENT_NODE&&(i=f(i,d,d.length),i!==j))return i;return b?!1:j}var l=e.NodeType,h=/[\.\s]\s*\.?/,i=/[\n\t]/g;a.mix(e,{hasClass:function(a,d){return k(a,d,function(a,b,c){var a=a.className,d,e;if(a){a=(" "+a+" ").replace(i," ");d=0;for(e=!0;d<c;d++)if(0>a.indexOf(" "+
b[d]+" ")){e=!1;break}if(e)return!0}},!0)},addClass:function(e,d){k(e,d,function(f,b,c){var e=f.className,g,h;if(e){g=(" "+e+" ").replace(i," ");for(h=0;h<c;h++)0>g.indexOf(" "+b[h]+" ")&&(e+=" "+b[h]);f.className=a.trim(e)}else f.className=d},j)},removeClass:function(e,d){k(e,d,function(d,b,c){var e=d.className,g,h;if(e)if(c){e=(" "+e+" ").replace(i," ");for(g=0;g<c;g++)for(h=" "+b[g]+" ";0<=e.indexOf(h);)e=e.replace(h," ");d.className=a.trim(e)}else d.className=""},j)},replaceClass:function(a,d,
f){e.removeClass(a,d);e.addClass(a,f)},toggleClass:function(g,d,f){var b=a.isBoolean(f),c,h;k(g,d,function(a,g,i){for(h=0;h<i;h++)d=g[h],c=b?!f:e.hasClass(a,d),e[c?"removeClass":"addClass"](a,d)},j)}});return e},{requires:["./api"]});
KISSY.add("dom/base/create",function(a,e,j){function k(c){var b=a.require("event/dom");b&&b.detach(c);e.removeData(c)}function l(b,a){var f=a&&a!=d?a.createElement(c):m;f.innerHTML="m<div>"+b+"</div>";return f.lastChild}function h(c,b,a){var d=b.nodeType;if(d==f.DOCUMENT_FRAGMENT_NODE){b=b.childNodes;a=a.childNodes;for(d=0;b[d];)a[d]&&h(c,b[d],a[d]),d++}else if(d==f.ELEMENT_NODE){b=b.getElementsByTagName("*");a=a.getElementsByTagName("*");for(d=0;b[d];)a[d]&&c(b[d],a[d]),d++}}function i(c,b){var d=
a.require("event/dom"),g,h;if(b.nodeType!=f.ELEMENT_NODE||e.hasData(c)){g=e.data(c);for(h in g)e.data(b,h,g[h]);d&&(d._DOMUtils.removeData(b),d._clone(c,b))}}function g(c){var b=null,d,f;if(c&&(c.push||c.item)&&c[0]){b=c[0].ownerDocument;b=b.createDocumentFragment();c=a.makeArray(c);d=0;for(f=c.length;d<f;d++)b.appendChild(c[d])}return b}var d=a.Env.host.document,f=e.NodeType,b=a.UA.ie,c="div",m=d&&d.createElement(c),n=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,o=/<([\w:]+)/,
p=/^\s+/,t=b&&9>b,r=/<|&#?\w+;/,s=d&&"outerHTML"in d.documentElement,q=/^<(\w+)\s*\/?>(?:<\/\1>)?$/;a.mix(e,{create:function(b,h,i,m){var k=null;if(!b)return k;if(b.nodeType)return e.clone(b);if("string"!=typeof b)return k;m===j&&(m=!0);m&&(b=a.trim(b));var m=e._creators,s,u,i=i||d,v,w=c;if(r.test(b))if(v=q.exec(b))k=i.createElement(v[1]);else{b=b.replace(n,"<$1></$2>");if((v=o.exec(b))&&(s=v[1]))w=s.toLowerCase();s=(m[w]||l)(b,i);t&&(u=b.match(p))&&s.insertBefore(i.createTextNode(u[0]),s.firstChild);
b=s.childNodes;1===b.length?k=b[0].parentNode.removeChild(b[0]):b.length&&(k=g(b))}else k=i.createTextNode(b);a.isPlainObject(h)&&(k.nodeType==f.ELEMENT_NODE?e.attr(k,h,!0):k.nodeType==f.DOCUMENT_FRAGMENT_NODE&&e.attr(k.childNodes,h,!0));return k},_fixCloneAttributes:null,_creators:{div:l},_defaultCreator:l,html:function(c,b,a,d){var c=e.query(c),g=c[0],h=!1,i,m;if(g){if(b===j)return g.nodeType==f.ELEMENT_NODE?g.innerHTML:null;b+="";if(!b.match(/<(?:script|style|link)/i)&&(!t||!b.match(p))&&!w[(b.match(o)||
["",""])[1].toLowerCase()])try{for(i=c.length-1;0<=i;i--)m=c[i],m.nodeType==f.ELEMENT_NODE&&(k(m.getElementsByTagName("*")),m.innerHTML=b);h=!0}catch(l){}h||(b=e.create(b,0,g.ownerDocument,0),e.empty(c),e.append(b,c,a));d&&d()}},outerHTML:function(b,a,g){var h=e.query(b),i=h.length;if(b=h[0]){if(a===j){if(s)return b.outerHTML;a=(a=b.ownerDocument)&&a!=d?a.createElement(c):m;a.innerHTML="";a.appendChild(e.clone(b,!0));return a.innerHTML}a+="";if(!a.match(/<(?:script|style|link)/i)&&s)for(g=i-1;0<=
g;g--)b=h[g],b.nodeType==f.ELEMENT_NODE&&(k(b),k(b.getElementsByTagName("*")),b.outerHTML=a);else b=e.create(a,0,b.ownerDocument,0),e.insertBefore(b,h,g),e.remove(h)}},remove:function(c,b){var a,d=e.query(c),g,h;for(h=d.length-1;0<=h;h--)a=d[h],!b&&a.nodeType==f.ELEMENT_NODE&&(g=a.getElementsByTagName("*"),k(g),k(a)),a.parentNode&&a.parentNode.removeChild(a)},clone:function(c,b,a,d){"object"===typeof b&&(d=b.deepWithDataAndEvent,a=b.withDataAndEvent,b=b.deep);var c=e.get(c),g,m=e._fixCloneAttributes,
j;if(!c)return null;j=c.nodeType;g=c.cloneNode(b);if(j==f.ELEMENT_NODE||j==f.DOCUMENT_FRAGMENT_NODE)m&&j==f.ELEMENT_NODE&&m(c,g),b&&m&&h(m,c,g);a&&(i(c,g),b&&d&&h(i,c,g));return g},empty:function(c){var c=e.query(c),b,a;for(a=c.length-1;0<=a;a--)b=c[a],e.remove(b.childNodes)},_nodeListToFragment:g});var u=e._creators,v=e.create,w={option:"select",optgroup:"select",area:"map",thead:"table",td:"tr",th:"tr",tr:"tbody",tbody:"table",tfoot:"table",caption:"table",colgroup:"table",col:"colgroup",legend:"fieldset"},
x;for(x in w)(function(c){u[x]=function(b,a){return v("<"+c+">"+b+"</"+c+">",null,a)}})(w[x]);return e},{requires:["./api"]});
KISSY.add("dom/base/data",function(a,e,j){var k=a.Env.host,l="__ks_data_"+a.now(),h={},i={},g={applet:1,object:1,embed:1},d={hasData:function(c,b){if(c)if(b!==j){if(b in c)return!0}else if(!a.isEmptyObject(c))return!0;return!1}},f={hasData:function(c,b){return c==k?f.hasData(i,b):d.hasData(c[l],b)},data:function(c,b,a){if(c==k)return f.data(i,b,a);var d=c[l];if(a!==j)d=c[l]=c[l]||{},d[b]=a;else return b!==j?d&&d[b]:d=c[l]=c[l]||{}},removeData:function(c,b){if(c==k)return f.removeData(i,b);var d=c[l];
if(b!==j)delete d[b],a.isEmptyObject(d)&&f.removeData(c);else try{delete c[l]}catch(e){c[l]=j}}},b={hasData:function(c,b){var a=c[l];return!a?!1:d.hasData(h[a],b)},data:function(c,b,d){if(g[c.nodeName.toLowerCase()])return j;var f=c[l];if(!f){if(b!==j&&d===j)return j;f=c[l]=a.guid()}c=h[f];if(d!==j)c=h[f]=h[f]||{},c[b]=d;else return b!==j?c&&c[b]:c=h[f]=h[f]||{}},removeData:function(c,d){var f=c[l],e;if(f)if(e=h[f],d!==j)delete e[d],a.isEmptyObject(e)&&b.removeData(c);else{delete h[f];try{delete c[l]}catch(g){c[l]=
j}c.removeAttribute&&c.removeAttribute(l)}}};a.mix(e,{__EXPANDO:l,hasData:function(c,a){for(var d=!1,g=e.query(c),h=0;h<g.length&&!(d=g[h],d=d.nodeType?b.hasData(d,a):f.hasData(d,a));h++);return d},data:function(c,d,g){var c=e.query(c),h=c[0];if(a.isPlainObject(d)){for(var i in d)e.data(c,i,d[i]);return j}if(g===j){if(h)return h.nodeType?b.data(h,d):f.data(h,d)}else for(i=c.length-1;0<=i;i--)h=c[i],h.nodeType?b.data(h,d,g):f.data(h,d,g);return j},removeData:function(c,a){var d=e.query(c),g,h;for(h=
d.length-1;0<=h;h--)g=d[h],g.nodeType?b.removeData(g,a):f.removeData(g,a)}});return e},{requires:["./api"]});
KISSY.add("dom/base/insertion",function(a,e){function j(c,a){var e=[],k,l,t;for(k=0;c[k];k++)if(l=c[k],t=g(l),l.nodeType==h.DOCUMENT_FRAGMENT_NODE)e.push.apply(e,j(d(l.childNodes),a));else if("script"===t&&(!l.type||b.test(l.type)))l.parentNode&&l.parentNode.removeChild(l),a&&a.push(l);else{if(l.nodeType==h.ELEMENT_NODE&&!i.test(t)){t=[];var r,s,q=l.getElementsByTagName("script");for(s=0;s<q.length;s++)r=q[s],(!r.type||b.test(r.type))&&t.push(r);f.apply(c,[k+1,0].concat(t))}e.push(l)}return e}function k(c){c.src?
a.getScript(c.src):(c=a.trim(c.text||c.textContent||c.innerHTML||""))&&a.globalEval(c)}function l(c,b,d,f){c=e.query(c);f&&(f=[]);c=j(c,f);e._fixInsertionChecked&&e._fixInsertionChecked(c);var b=e.query(b),g,h,i,l,q=b.length;if((c.length||f&&f.length)&&q){c=e._nodeListToFragment(c);1<q&&(l=e.clone(c,!0),b=a.makeArray(b));for(g=0;g<q;g++)h=b[g],c&&(i=0<g?e.clone(l,!0):c,d(i,h)),f&&f.length&&a.each(f,k)}}var h=e.NodeType,i=/^(?:button|input|object|select|textarea)$/i,g=e.nodeName,d=a.makeArray,f=[].splice,
b=/\/(java|ecma)script/i;a.mix(e,{_fixInsertionChecked:null,insertBefore:function(c,b,a){l(c,b,function(c,b){b.parentNode&&b.parentNode.insertBefore(c,b)},a)},insertAfter:function(c,b,a){l(c,b,function(c,b){b.parentNode&&b.parentNode.insertBefore(c,b.nextSibling)},a)},appendTo:function(c,b,a){l(c,b,function(c,b){b.appendChild(c)},a)},prependTo:function(c,b,a){l(c,b,function(c,b){b.insertBefore(c,b.firstChild)},a)},wrapAll:function(c,b){b=e.clone(e.get(b),!0);c=e.query(c);c[0].parentNode&&e.insertBefore(b,
c[0]);for(var a;(a=b.firstChild)&&1==a.nodeType;)b=a;e.appendTo(c,b)},wrap:function(c,b){c=e.query(c);b=e.get(b);a.each(c,function(c){e.wrapAll(c,b)})},wrapInner:function(c,b){c=e.query(c);b=e.get(b);a.each(c,function(c){var a=c.childNodes;a.length?e.wrapAll(a,b):c.appendChild(b)})},unwrap:function(c){c=e.query(c);a.each(c,function(c){c=c.parentNode;e.replaceWith(c,c.childNodes)})},replaceWith:function(c,b){var a=e.query(c),b=e.query(b);e.remove(b,!0);e.insertBefore(b,a);e.remove(a)}});a.each({prepend:"prependTo",
append:"appendTo",before:"insertBefore",after:"insertAfter"},function(c,b){e[b]=e[c]});return e},{requires:["./api"]});
KISSY.add("dom/base/offset",function(a,e,j){function k(c){var b,a=c.ownerDocument.body;if(!c.getBoundingClientRect)return{left:0,top:0};b=c.getBoundingClientRect();c=b[n];b=b[o];c-=d.clientLeft||a.clientLeft||0;b-=d.clientTop||a.clientTop||0;return{left:c,top:b}}function l(c,b){var a={left:0,top:0},d=f(c[m]),g,h=c,b=b||d;do{if(d==b){var i=h;g=k(i);i=f(i[m]);g.left+=e[t](i);g.top+=e[r](i)}else g=k(h);a.left+=g.left;a.top+=g.top}while(d&&d!=b&&(h=d.frameElement)&&(d=d.parent));return a}var h=a.Env.host,
i=h.document,g=e.NodeType,d=i&&i.documentElement,f=e.getWindow,b=Math.max,c=parseInt,m="ownerDocument",n="left",o="top",p=a.isNumber,t="scrollLeft",r="scrollTop";a.mix(e,{offset:function(b,a,d){if(a===j){var b=e.get(b),f;b&&(f=l(b,d));return f}d=e.query(b);for(f=d.length-1;0<=f;f--){var b=d[f],g=a;"static"===e.css(b,"position")&&(b.style.position="relative");var h=l(b),i={},k=void 0,m=void 0;for(m in g)k=c(e.css(b,m),10)||0,i[m]=k+g[m]-h[m];e.css(b,i)}return j},scrollIntoView:function(b,d,h,i){var k,
m,l,p;if(l=e.get(b)){d&&(d=e.get(d));d||(d=l.ownerDocument);d.nodeType==g.DOCUMENT_NODE&&(d=f(d));a.isPlainObject(h)&&(i=h.allowHorizontalScroll,p=h.onlyScrollIfNeeded,h=h.alignWithTop);i=i===j?!0:i;m=!!f(d);var b=e.offset(l),t=e.outerHeight(l);k=e.outerWidth(l);var r,C,F,z;m?(m=d,r=e.height(m),C=e.width(m),z={left:e.scrollLeft(m),top:e.scrollTop(m)},m=b[n]-z[n],l=b[o]-z[o],k=b[n]+k-(z[n]+C),b=b[o]+t-(z[o]+r)):(r=e.offset(d),C=d.clientHeight,F=d.clientWidth,z={left:e.scrollLeft(d),top:e.scrollTop(d)},
m=b[n]-(r[n]+(c(e.css(d,"borderLeftWidth"))||0)),l=b[o]-(r[o]+(c(e.css(d,"borderTopWidth"))||0)),k=b[n]+k-(r[n]+F+(c(e.css(d,"borderRightWidth"))||0)),b=b[o]+t-(r[o]+C+(c(e.css(d,"borderBottomWidth"))||0)));if(p){if(0>l||0<b)!0===h?e.scrollTop(d,z.top+l):!1===h?e.scrollTop(d,z.top+b):0>l?e.scrollTop(d,z.top+l):e.scrollTop(d,z.top+b)}else(h=h===j?!0:!!h)?e.scrollTop(d,z.top+l):e.scrollTop(d,z.top+b);if(i)if(p){if(0>m||0<k)!0===h?e.scrollLeft(d,z.left+m):!1===h?e.scrollLeft(d,z.left+k):0>m?e.scrollLeft(d,
z.left+m):e.scrollLeft(d,z.left+k)}else(h=h===j?!0:!!h)?e.scrollLeft(d,z.left+m):e.scrollLeft(d,z.left+k)}},docWidth:0,docHeight:0,viewportHeight:0,viewportWidth:0,scrollTop:0,scrollLeft:0});a.each(["Left","Top"],function(b,c){var a="scroll"+b;e[a]=function(d,i){if(p(d))return arguments.callee(h,d);var d=e.get(d),k,m,l,n=f(d);n?i!==j?(i=parseFloat(i),m="Left"==b?i:e.scrollLeft(n),l="Top"==b?i:e.scrollTop(n),n.scrollTo(m,l)):(k=n["page"+(c?"Y":"X")+"Offset"],p(k)||(m=n.document,k=m.documentElement[a],
p(k)||(k=m.body[a]))):d.nodeType==g.ELEMENT_NODE&&(i!==j?d[a]=parseFloat(i):k=d[a]);return k}});a.each(["Width","Height"],function(c){e["doc"+c]=function(a){a=e.get(a);a=f(a).document;return b(a.documentElement["scroll"+c],a.body["scroll"+c],e["viewport"+c](a))};e["viewport"+c]=function(b){var b=e.get(b),a="client"+c,b=f(b).document,d=b.body,g=b.documentElement[a];return"CSS1Compat"===b.compatMode&&g||d&&d[a]||g}});return e},{requires:["./api"]});
KISSY.add("dom/base/selector",function(a,e,j){function k(b){var c,a;for(a=0;a<this.length&&!(c=this[a],!1===b(c,a));a++);}function l(b,d){var f,g,m="string"==typeof b,p=d==j&&(g=1)?[c]:l(d);b?m?(b=v(b),g&&"body"==b?f=[c.body]:1==p.length&&b&&(f=i(b,p[0]))):g&&(f=b.nodeType||b.setTimeout?[b]:b.getDOMNodes?b.getDOMNodes():o(b)?b:t(b)?a.makeArray(b):[b]):f=[];if(!f&&(f=[],b)){for(g=0;g<p.length;g++)s.apply(f,h(b,p[g]));1<f.length&&(1<p.length||m&&-1<b.indexOf(u))&&e.unique(f)}f.each=k;return f}function h(b,
c){var d="string"==typeof b;if(d&&b.match(x)||!d)d=g(b,c);else if(d&&-1<b.replace(/"(?:(?:\\.)|[^"])*"/g,"").replace(/'(?:(?:\\.)|[^'])*'/g,"").indexOf(u)){var d=[],f,e=b.split(/\s*,\s*/);for(f=0;f<e.length;f++)s.apply(d,h(e[f],c))}else d=[],(f=a.require("sizzle"))&&f(b,c,d);return d}function i(b,c){var a,g,h,i;if(w.test(b))a=(g=d(b.slice(1),c))?[g]:[];else if(h=x.exec(b)){g=h[1];i=h[2];h=h[3];if(c=g?d(g,c):c)h?!g||-1!=b.indexOf(q)?a=[].concat(e._getElementsByClassName(h,i,c)):(g=d(g,c),f(g,h)&&(a=
[g])):i&&(a=p(e._getElementsByTagName(i,c)));a=a||[]}return a}function g(b,a){var d;"string"==typeof b?d=i(b,a)||[]:o(b)||t(b)?d=n(b,function(b){return!b?!1:a==c?!0:e._contains(a,b)}):(!b?0:a==c||e._contains(a,b))&&(d=[b]);return d}function d(b,c){var a=c.nodeType==m.DOCUMENT_NODE;return e._getElementById(b,c,a?c:c.ownerDocument,a)}function f(b,c){var a=b&&b.className;return a&&-1<(q+a+q).indexOf(q+c+q)}function b(b,c){var a=b&&b.getAttributeNode(c);return a&&a.nodeValue}var c=a.Env.host.document,
m=e.NodeType,n=a.filter,o=a.isArray,p=a.makeArray,t=e._isNodeList,r=e.nodeName,s=Array.prototype.push,q=" ",u=",",v=a.trim,w=/^#[\w-]+$/,x=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/;a.mix(e,{_hasSingleClass:f,_getElementById:function(c,a,d,f){var g=d.getElementById(c),h=b(g,"id");return!g&&!f&&!e._contains(d,a)||g&&h!=c?e.filter("*","#"+c,a)[0]||null:f||g&&e._contains(a,g)?g:null},_getElementsByTagName:function(b,c){return c.getElementsByTagName(b)},_getElementsByClassName:function(b,c,a){return p(a.querySelectorAll((c||
"")+"."+b))},_compareNodeOrder:function(b,c){return!b.compareDocumentPosition||!c.compareDocumentPosition?b.compareDocumentPosition?-1:1:b.compareDocumentPosition(c)&4?-1:1},query:l,get:function(b,c){return l(b,c)[0]||null},unique:function(){function b(a,d){return a==d?(c=!0,0):e._compareNodeOrder(a,d)}var c,a=!0;[0,0].sort(function(){a=!1;return 0});return function(d){c=a;d.sort(b);if(c)for(var f=1,e=d.length;f<e;)d[f]===d[f-1]?d.splice(f,1):f++;return d}}(),filter:function(c,d,e){var c=l(c,e),e=
a.require("sizzle"),g,h,i,j,k=[];if("string"==typeof d&&(d=v(d))&&(g=x.exec(d)))i=g[1],h=g[2],j=g[3],i?i&&!h&&!j&&(d=function(c){return b(c,"id")==i}):d=function(b){var c=!0,a=!0;h&&(c=r(b)==h.toLowerCase());j&&(a=f(b,j));return a&&c};a.isFunction(d)?k=a.filter(c,d):d&&e&&(k=e.matches(d,c));return k},test:function(b,c,a){b=l(b,a);return b.length&&e.filter(b,c,a).length===b.length}});return e},{requires:["./api"]});
KISSY.add("dom/base/style",function(a,e,j){function k(b){return b.replace(s,"ms-").replace(q,u)}function l(b,c,a){var d={},f;for(f in c)d[f]=b[m][f],b[m][f]=c[f];a.call(b);for(f in c)b[m][f]=d[f]}function h(b,c,a){var d,f,e;if(3===b.nodeType||8===b.nodeType||!(d=b[m]))return j;c=k(c);e=A[c];c=y[c]||c;if(a!==j){null===a||a===w?a=w:!isNaN(Number(a))&&!r[c]&&(a+=x);e&&e.set&&(a=e.set(b,a));if(a!==j){try{d[c]=a}catch(g){}a===w&&d.removeAttribute&&d.removeAttribute(c)}d.cssText||b.removeAttribute("style");
return j}if(!e||!("get"in e&&(f=e.get(b,!1))!==j))f=d[c];return f===j?"":f}function i(b){var c,a=arguments;0!==b.offsetWidth?c=g.apply(j,a):l(b,D,function(){c=g.apply(j,a)});return c}function g(b,c,d){if(a.isWindow(b))return c==o?e.viewportWidth(b):e.viewportHeight(b);if(9==b.nodeType)return c==o?e.docWidth(b):e.docHeight(b);var f=c===o?["Left","Right"]:["Top","Bottom"],g=c===o?b.offsetWidth:b.offsetHeight;if(0<g)return"border"!==d&&a.each(f,function(c){d||(g-=parseFloat(e.css(b,"padding"+c))||0);
g="margin"===d?g+(parseFloat(e.css(b,d+c))||0):g-(parseFloat(e.css(b,"border"+c+"Width"))||0)}),g;g=e._getComputedStyle(b,c);if(null==g||0>Number(g))g=b.style[c]||0;g=parseFloat(g)||0;d&&a.each(f,function(c){g+=parseFloat(e.css(b,"padding"+c))||0;"padding"!==d&&(g+=parseFloat(e.css(b,"border"+c+"Width"))||0);"margin"===d&&(g+=parseFloat(e.css(b,d+c))||0)});return g}var d=a.Env.host,f=a.UA,b=e.nodeName,c=d.document,m="style",n=/^margin/,o="width",p="display"+a.now(),t=parseInt,r={fillOpacity:1,fontWeight:1,
lineHeight:1,opacity:1,orphans:1,widows:1,zIndex:1,zoom:1},s=/^-ms-/,q=/-([a-z])/ig,u=function(b,c){return c.toUpperCase()},v=/([A-Z]|^ms)/g,w="",x="px",A={},y={},B={};y["float"]="cssFloat";a.mix(e,{_camelCase:k,_CUSTOM_STYLES:A,_cssProps:y,_getComputedStyle:function(b,c){var a="",d,f,g,h,i;f=b.ownerDocument;c=c.replace(v,"-$1").toLowerCase();if(d=f.defaultView.getComputedStyle(b,null))a=d.getPropertyValue(c)||d[c];""===a&&!e.contains(f,b)&&(c=y[c]||c,a=b[m][c]);e._RE_NUM_NO_PX.test(a)&&n.test(c)&&
(i=b.style,f=i.width,g=i.minWidth,h=i.maxWidth,i.minWidth=i.maxWidth=i.width=a,a=d.width,i.width=f,i.minWidth=g,i.maxWidth=h);return a},style:function(b,c,d){var b=e.query(b),f,g=b[0];if(a.isPlainObject(c)){for(f in c)for(g=b.length-1;0<=g;g--)h(b[g],f,c[f]);return j}if(d===j)return f="",g&&(f=h(g,c,d)),f;for(g=b.length-1;0<=g;g--)h(b[g],c,d);return j},css:function(b,c,d){var b=e.query(b),f=b[0],g;if(a.isPlainObject(c)){for(g in c)for(f=b.length-1;0<=f;f--)h(b[f],g,c[g]);return j}c=k(c);g=A[c];if(d===
j){d="";if(f&&(!g||!("get"in g&&(d=g.get(f,!0))!==j)))d=e._getComputedStyle(f,c);return d===j?"":d}for(f=b.length-1;0<=f;f--)h(b[f],c,d);return j},show:function(b){var b=e.query(b),a,d,f;for(f=b.length-1;0<=f;f--)if(d=b[f],d[m].display=e.data(d,p)||w,"none"===e.css(d,"display")){a=d.tagName.toLowerCase();var g=void 0,h=B[a],i=void 0;B[a]||(g=c.body||c.documentElement,i=c.createElement(a),e.prepend(i,g),h=e.css(i,"display"),g.removeChild(i),B[a]=h);a=h;e.data(d,p,a);d[m].display=a}},hide:function(b){var b=
e.query(b),c,a;for(a=b.length-1;0<=a;a--){c=b[a];var d=c[m],f=d.display;"none"!==f&&(f&&e.data(c,p,f),d.display="none")}},toggle:function(b){var b=e.query(b),c,a;for(a=b.length-1;0<=a;a--)c=b[a],"none"===e.css(c,"display")?e.show(c):e.hide(c)},addStyleSheet:function(b,c,a){b=b||d;"string"==typeof b&&(a=c,c=b,b=d);var b=e.get(b),b=e.getWindow(b).document,f;if(a&&(a=a.replace("#",w)))f=e.get("#"+a,b);f||(f=e.create("<style>",{id:a},b),e.get("head",b).appendChild(f),f.styleSheet?f.styleSheet.cssText=
c:f.appendChild(b.createTextNode(c)))},unselectable:function(c){var c=e.query(c),d,g,h=0,i,j;for(g=c.length-1;0<=g;g--)if(d=c[g],f.gecko)d[m].MozUserSelect="none";else if(f.webkit)d[m].KhtmlUserSelect="none";else if(f.ie||f.opera){j=d.getElementsByTagName("*");d.setAttribute("unselectable","on");for(i=["iframe","textarea","input","select"];d=j[h++];)a.inArray(b(d),i)||d.setAttribute("unselectable","on")}},innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0,width:0,height:0});a.each([o,"height"],
function(b){e["inner"+a.ucfirst(b)]=function(c){return(c=e.get(c))&&i(c,b,"padding")};e["outer"+a.ucfirst(b)]=function(c,a){var d=e.get(c);return d&&i(d,b,a?"margin":"border")};e[b]=function(c,a){var d=e.css(c,b,a);d&&(d=parseFloat(d));return d}});var D={position:"absolute",visibility:"hidden",display:"block"};a.each(["height","width"],function(b){A[b]={get:function(c,a){if(a)return i(c,b)+"px"}}});a.each(["left","top"],function(b){A[b]={get:function(d,g){if(g){var h=e._getComputedStyle(d,b);if("auto"===
h){h=0;if(a.inArray(e.css(d,"position"),["absolute","fixed"])){h=d["left"===b?"offsetLeft":"offsetTop"];if(f.ie&&9>(c.documentMode||0)||f.opera)h-=d.offsetParent&&d.offsetParent["client"+("left"==b?"Left":"Top")]||0;h-=t(e.css(d,"margin-"+b))||0}h+="px"}return h}}}});return e},{requires:["./api"]});
KISSY.add("dom/base/traversal",function(a,e,j){function k(g,d,f,b,c,h,k){if(!(g=e.get(g)))return null;if(0===d)return g;h||(g=g[f]);if(!g)return null;c=c&&e.get(c)||null;d===j&&(d=1);var h=[],o=a.isArray(d),p,t;a.isNumber(d)&&(p=0,t=d,d=function(){return++p===t});for(;g&&g!=c;){if((g.nodeType==i.ELEMENT_NODE||g.nodeType==i.TEXT_NODE&&k)&&l(g,d)&&(!b||b(g)))if(h.push(g),!o)break;g=g[f]}return o?h:h[0]||null}function l(g,d){if(!d)return!0;if(a.isArray(d)){var f,b=d.length;if(!b)return!0;for(f=0;f<b;f++)if(e.test(g,
d[f]))return!0}else if(e.test(g,d))return!0;return!1}function h(g,d,f,b){var c=[],h,j;if((h=g=e.get(g))&&f)h=g.parentNode;if(h){f=a.makeArray(h.childNodes);for(h=0;h<f.length;h++)j=f[h],(b||j.nodeType==i.ELEMENT_NODE)&&j!=g&&c.push(j);d&&(c=e.filter(c,d))}return c}var i=e.NodeType;a.mix(e,{_contains:function(a,d){return!!(a.compareDocumentPosition(d)&16)},closest:function(a,d,f,b){return k(a,d,"parentNode",function(b){return b.nodeType!=i.DOCUMENT_FRAGMENT_NODE},f,!0,b)},parent:function(a,d,f){return k(a,
d,"parentNode",function(b){return b.nodeType!=i.DOCUMENT_FRAGMENT_NODE},f,j)},first:function(a,d,f){a=e.get(a);return k(a&&a.firstChild,d,"nextSibling",j,j,!0,f)},last:function(a,d,f){a=e.get(a);return k(a&&a.lastChild,d,"previousSibling",j,j,!0,f)},next:function(a,d,f){return k(a,d,"nextSibling",j,j,j,f)},prev:function(a,d,f){return k(a,d,"previousSibling",j,j,j,f)},siblings:function(a,d,f){return h(a,d,!0,f)},children:function(a,d){return h(a,d,j)},contents:function(a,d){return h(a,d,j,1)},contains:function(a,
d){a=e.get(a);d=e.get(d);return a&&d?e._contains(a,d):!1},index:function(g,d){var f=e.query(g),b,c=0;b=f[0];if(!d){f=b&&b.parentNode;if(!f)return-1;for(;b=b.previousSibling;)b.nodeType==i.ELEMENT_NODE&&c++;return c}c=e.query(d);return"string"===typeof d?a.indexOf(b,c):a.indexOf(c[0],f)},equals:function(a,d){a=e.query(a);d=e.query(d);if(a.length!=d.length)return!1;for(var f=a.length;0<=f;f--)if(a[f]!=d[f])return!1;return!0}});return e},{requires:["./api"]});
KISSY.add("dom/ie/attr",function(a,e){var j=e._attrHooks,k=e._attrNodeHook,l=e.NodeType,h=e._valHooks,i=e._propFix;8>a.UA.ie&&(j.style.set=function(a,d){a.style.cssText=d},a.mix(k,{get:function(a,d){var f=a.getAttributeNode(d);return f&&(f.specified||f.nodeValue)?f.nodeValue:void 0},set:function(a,d,f){var b=a.getAttributeNode(f),c;if(b)b.nodeValue=d;else try{c=a.ownerDocument.createAttribute(f),c.value=d,a.setAttributeNode(c)}catch(e){return a.setAttribute(f,d,0)}}}),a.mix(e._attrFix,i),j.tabIndex=
j.tabindex,a.each("href,src,width,height,colSpan,rowSpan".split(","),function(a){j[a]={get:function(d){d=d.getAttribute(a,2);return d===null?void 0:d}}}),h.button=j.value=k,h.option={get:function(a){var d=a.attributes.value;return!d||d.specified?a.value:a.text}});(j.href=j.href||{}).set=function(a,d,f){for(var b=a.childNodes,c,e=b.length,h=e>0,e=e-1;e>=0;e--)b[e].nodeType!=l.TEXT_NODE&&(h=0);if(h){c=a.ownerDocument.createElement("b");c.style.display="none";a.appendChild(c)}a.setAttribute(f,""+d);
c&&a.removeChild(c)};return e},{requires:["dom/base"]});
KISSY.add("dom/ie/create",function(a,e){e._fixCloneAttributes=function(a,i){i.clearAttributes&&i.clearAttributes();i.mergeAttributes&&i.mergeAttributes(a);var g=i.nodeName.toLowerCase(),d=a.childNodes;if("object"===g&&!i.childNodes.length)for(g=0;g<d.length;g++)i.appendChild(d[g].cloneNode(!0));else if("input"===g&&("checkbox"===a.type||"radio"===a.type)){if(a.checked&&(i.defaultChecked=i.checked=a.checked),i.value!==a.value)i.value=a.value}else if("option"===g)i.selected=a.defaultSelected;else if("input"===
g||"textarea"===g)i.defaultValue=a.defaultValue;i.removeAttribute(e.__EXPANDO)};var j=e._creators,k=e._defaultCreator,l=/<tbody/i;8>a.UA.ie&&(j.table=function(h,i){var g=k(h,i);if(l.test(h))return g;var d=g.firstChild,f=a.makeArray(d.childNodes);a.each(f,function(b){"tbody"==e.nodeName(b)&&!b.childNodes.length&&d.removeChild(b)});return g})},{requires:["dom/base"]});KISSY.add("dom/ie",function(a,e){return e},{requires:"./ie/attr,./ie/create,./ie/insertion,./ie/selector,./ie/style,./ie/traversal,./ie/input-selection".split(",")});
KISSY.add("dom/ie/input-selection",function(a,e){function j(a,d){var f=0,b=0,c=a.ownerDocument.selection.createRange(),e=k(a);e.inRange(c)&&(e.setEndPoint("EndToStart",c),f=h(a,e).length,d&&(b=f+h(a,c).length));return[f,b]}function k(a){if("textarea"==a.type){var d=a.document.body.createTextRange();d.moveToElementText(a);return d}return a.createTextRange()}function l(a,d,f){var b=Math.min(d,f),c=Math.max(d,f);return b==c?0:"textarea"==a.type?(a=a.value.substring(b,c).replace(/\r\n/g,"\n").length,
d>f&&(a=-a),a):f-d}function h(a,d){if("textarea"==a.type){var f=d.text,b=d.duplicate();if(0==b.compareEndPoints("StartToEnd",b))return f;b.moveEnd("character",-1);b.text==f&&(f+="\r\n");return f}return d.text}var i=e._propHooks;i.selectionStart={set:function(a,d){var f=a.ownerDocument.selection.createRange();if(k(a).inRange(f)){var b=j(a,1)[1],c=l(a,d,b);f.collapse(!1);f.moveStart("character",-c);d>b&&f.collapse(!0);f.select()}},get:function(a){return j(a)[0]}};i.selectionEnd={set:function(a,d){var f=
a.ownerDocument.selection.createRange();if(k(a).inRange(f)){var b=j(a)[0],c=l(a,b,d);f.collapse(!0);f.moveEnd("character",c);b>d&&f.collapse(!1);f.select()}},get:function(a){return j(a,1)[1]}}},{requires:["dom/base"]});
KISSY.add("dom/ie/insertion",function(a,e){8>a.UA.ie&&(e._fixInsertionChecked=function k(a){for(var h=0;h<a.length;h++){var i=a[h];if(i.nodeType==e.NodeType.DOCUMENT_FRAGMENT_NODE)k(i.childNodes);else if("input"==e.nodeName(i)){if("checkbox"===i.type||"radio"===i.type)i.defaultChecked=i.checked}else if(i.nodeType==e.NodeType.ELEMENT_NODE)for(var i=i.getElementsByTagName("input"),g=0;g<i.length;g++)k(i[g])}})},{requires:["dom/base"]});
KISSY.add("dom/ie/selector",function(a,e){var j=a.Env.host.document;e._compareNodeOrder=function(a,e){return a.sourceIndex-e.sourceIndex};j.querySelectorAll||(e._getElementsByClassName=function(a,j,h){if(!h)return[];for(var j=h.getElementsByTagName(j||"*"),h=[],i=0,g=0,d=j.length,f;i<d;++i)f=j[i],e._hasSingleClass(f,a)&&(h[g++]=f);return h});e._getElementsByTagName=function(e,j){var h=a.makeArray(j.getElementsByTagName(e)),i,g,d,f;if(e==="*"){i=[];for(d=g=0;f=h[g++];)f.nodeType===1&&(i[d++]=f);h=
i}return h}},{requires:["dom/base"]});
KISSY.add("dom/ie/style",function(a,e){var j=e._cssProps,k=a.UA,l=a.Env.host.document,l=l&&l.documentElement,h=/^(top|right|bottom|left)$/,i=e._CUSTOM_STYLES,g=/opacity\s*=\s*([^)]*)/,d=/alpha\([^)]*\)/i;j["float"]="styleFloat";i.backgroundPosition={get:function(b,a){return a?b.currentStyle.backgroundPositionX+" "+b.currentStyle.backgroundPositionY:b.style.backgroundPosition}};try{null==l.style.opacity&&(i.opacity={get:function(b,a){return g.test((a&&b.currentStyle?b.currentStyle.filter:b.style.filter)||
"")?parseFloat(RegExp.$1)/100+"":a?"1":""},set:function(b,f){var f=parseFloat(f),e=b.style,g=b.currentStyle,h=isNaN(f)?"":"alpha(opacity="+100*f+")",i=a.trim(g&&g.filter||e.filter||"");e.zoom=1;if((1<=f||!h)&&!a.trim(i.replace(d,"")))if(e.removeAttribute("filter"),!h||g&&!g.filter)return;e.filter=d.test(i)?i.replace(d,h):i+(i?", ":"")+h}})}catch(f){}var k=8==k.ie,b={};b.thin=k?"1px":"2px";b.medium=k?"3px":"4px";b.thick=k?"5px":"6px";a.each(["","Top","Left","Right","Bottom"],function(c){var a="border"+
c+"Width",d="border"+c+"Style";i[a]={get:function(c,f){var e=f?c.currentStyle:0,g=e&&""+e[a]||void 0;g&&0>g.indexOf("px")&&(g=b[g]&&"none"!==e[d]?b[g]:0);return g}}});e._getComputedStyle=function(b,a){var a=j[a]||a,d=b.currentStyle&&b.currentStyle[a];if(e._RE_NUM_NO_PX.test(d)&&!h.test(a)){var f=b.style,g=f.left,i=b.runtimeStyle.left;b.runtimeStyle.left=b.currentStyle.left;f.left="fontSize"===a?"1em":d||0;d=f.pixelLeft+"px";f.left=g;b.runtimeStyle.left=i}return""===d?"auto":d}},{requires:["dom/base"]});
KISSY.add("dom/ie/traversal",function(a,e){e._contains=function(a,k){a.nodeType==e.NodeType.DOCUMENT_NODE&&(a=a.documentElement);k=k.parentNode;return a==k?!0:k&&k.nodeType==e.NodeType.ELEMENT_NODE?a.contains&&a.contains(k):!1}},{requires:["dom/base"]});KISSY.add("event/base",function(a,e,j,k,l){return a.Event={_Utils:e,_Object:j,_Observer:k,_ObservableEvent:l}},{requires:["./base/utils","./base/object","./base/observer","./base/observable"]});
KISSY.add("event/base/object",function(a){function e(){this.timeStamp=a.now()}var j=function(){return!1},k=function(){return!0};e.prototype={constructor:e,isDefaultPrevented:j,isPropagationStopped:j,isImmediatePropagationStopped:j,preventDefault:function(){this.isDefaultPrevented=k},stopPropagation:function(){this.isPropagationStopped=k},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=k;this.stopPropagation()},halt:function(a){a?this.stopImmediatePropagation():this.stopPropagation();
this.preventDefault()}};return e});
KISSY.add("event/base/observable",function(a){function e(e){a.mix(this,e);this.reset()}e.prototype={constructor:e,hasObserver:function(){return!!this.observers.length},reset:function(){this.observers=[]},removeObserver:function(a){var e,l=this.observers,h=l.length;for(e=0;e<h;e++)if(l[e]==a){l.splice(e,1);break}this.checkMemory()},checkMemory:function(){},findObserver:function(a){var e=this.observers,l;for(l=e.length-1;0<=l;--l)if(a.equals(e[l]))return l;return-1}};return e});
KISSY.add("event/base/observer",function(a){function e(e){a.mix(this,e)}e.prototype={constructor:e,equals:function(e){var k=this;return!!a.reduce(k.keys,function(a,h){return a&&k[h]===e[h]},1)},simpleNotify:function(a,e){var l;l=this.fn.call(this.context||e.currentTarget,a,this.data);this.once&&e.removeObserver(this);return l},notifyInternal:function(a,e){return this.simpleNotify(a,e)},notify:function(a,e){var l;l=a._ks_groups;if(!l||this.groups&&this.groups.match(l))return l=this.notifyInternal(a,
e),!1===l&&a.halt(),l}};return e});
KISSY.add("event/base/utils",function(a){var e,j;return{splitAndRun:j=function(e,j){e=a.trim(e);-1==e.indexOf(" ")?j(e):a.each(e.split(/\s+/),j)},normalizeParam:function(j,l,h){var i=l||{},i=a.isFunction(l)?{fn:l,context:h}:a.merge(i),l=e(j),j=l[0];i.groups=l[1];i.type=j;return i},batchForType:function(e,l){var h=a.makeArray(arguments);j(h[2+l],function(a){var g=[].concat(h);g.splice(0,2);g[l]=a;e.apply(null,g)})},getTypedGroups:e=function(a){if(0>a.indexOf("."))return[a,""];var e=a.match(/([^.]+)?(\..+)?$/),
a=[e[1]];(e=e[2])?(e=e.split(".").sort(),a.push(e.join("."))):a.push("");return a},getGroupsRe:function(a){return RegExp(a.split(".").join(".*\\.")+"(?:\\.|$)")}}});
KISSY.add("event/custom/api-impl",function(a,e,j,k){var l=a.trim,h=j._Utils,i=h.splitAndRun;return a.mix(e,{fire:function(a,d,f){var b=void 0,c=e.getTargets(a,1),j=c&&c.length,f=f||{};i(d,function(c){var d,c=h.getTypedGroups(c);d=c[1];c=c[0];d&&(d=h.getGroupsRe(d),f._ks_groups=d);if((d=k.getCustomEvent(a,c))||j){if(d){if(!d.hasObserver()&&(d.bubbles&&!j||!d.bubbles))return}else d=new k({currentTarget:a,type:c});c=d.fire(f);!1!==b&&(b=c)}});return b},publish:function(e,d,f){var b;i(d,function(c){b=
k.getCustomEvent(e,c,1);a.mix(b,f)});return e},addTarget:function(g,d){var f=e.getTargets(g);a.inArray(d,f)||f.push(d);return g},removeTarget:function(g,d){var f=e.getTargets(g),b=a.indexOf(d,f);-1!=b&&f.splice(b,1);return g},getTargets:function(a,d){d||(a["__~ks_bubble_targets"]=a["__~ks_bubble_targets"]||[]);return a["__~ks_bubble_targets"]},on:function(a,d,f,b){d=l(d);h.batchForType(function(b,d,f){d=h.normalizeParam(b,d,f);b=d.type;if(b=k.getCustomEvent(a,b,1))b.on(d)},0,d,f,b);return a},detach:function(e,
d,f,b){d=l(d);h.batchForType(function(b,d,f){var i=h.normalizeParam(b,d,f);(b=i.type)?(b=k.getCustomEvent(e,b,1))&&b.detach(i):(b=k.getCustomEvents(e),a.each(b,function(b){b.detach(i)}))},0,d,f,b);return e}})},{requires:["./api","event/base","./observable"]});KISSY.add("event/custom/api",function(){return{}});
KISSY.add("event/custom",function(a,e,j,k){var l={};a.each(j,function(e,i){l[i]=function(){var g=a.makeArray(arguments);g.unshift(this);return e.apply(null,g)}});j=a.mix({_ObservableCustomEvent:k,Target:l},j);a.mix(e,{Target:l,custom:j});a.EventTarget=l;return j},{requires:["./base","./custom/api-impl","./custom/observable"]});KISSY.add("event/custom/object",function(a,e){function j(e){j.superclass.constructor.call(this);a.mix(this,e)}a.extend(j,e._Object);return j},{requires:["event/base"]});
KISSY.add("event/custom/observable",function(a,e,j,k,l){function h(){h.superclass.constructor.apply(this,arguments);this.defaultFn=null;this.defaultTargetOnly=!1;this.bubbles=!0}var i=l._Utils;a.extend(h,l._ObservableEvent,{constructor:h,on:function(a){a=new j(a);-1==this.findObserver(a)&&this.observers.push(a)},checkMemory:function(){var d=this.currentTarget,f=h.getCustomEvents(d);f&&(this.hasObserver()||delete f[this.type],a.isEmptyObject(f)&&delete d[g])},fire:function(a){var a=a||{},f=this.bubbles,
b=this.currentTarget,c=this.type,g=this.defaultFn,i,j=a,l;a.type=c;j instanceof k||(j.target=b,j=new k(j));j.currentTarget=b;a=this.notify(j);!1!==l&&(l=a);if(f){b=(f=e.getTargets(b,1))&&f.length||0;for(i=0;i<b&&!j.isPropagationStopped();i++)a=e.fire(f[i],c,j),!1!==l&&(l=a)}g&&!j.isDefaultPrevented()&&(c=h.getCustomEvent(j.target,j.type),(!this.defaultTargetOnly&&!c.defaultTargetOnly||this==j.target)&&g.call(this));return l},notify:function(a){var f=this.observers,b,c,e=f.length,g;for(g=0;g<e&&!a.isImmediatePropagationStopped();g++)b=
f[g].notify(a,this),!1!==c&&(c=b),!1===b&&a.halt();return c},detach:function(a){var f,b=a.fn,c=a.context,e=this.currentTarget,g=this.observers,a=a.groups;if(g.length){a&&(f=i.getGroupsRe(a));var h,j,k,l,s=g.length;if(b||f){c=c||e;h=a=0;for(j=[];a<s;++a)if(k=g[a],l=k.context||e,c!=l||b&&b!=k.fn||f&&!k.groups.match(f))j[h++]=k;this.observers=j}else this.reset();this.checkMemory()}}});var g="__~ks_custom_events";h.getCustomEvent=function(a,f,b){var c,e=h.getCustomEvents(a,b);c=e&&e[f];!c&&b&&(c=e[f]=
new h({currentTarget:a,type:f}));return c};h.getCustomEvents=function(a,f){!a[g]&&f&&(a[g]={});return a[g]};return h},{requires:["./api","./observer","./object","event/base"]});KISSY.add("event/custom/observer",function(a,e){function j(){j.superclass.constructor.apply(this,arguments)}a.extend(j,e._Observer,{keys:["fn","context","groups"]});return j},{requires:["event/base"]});
KISSY.add("event/dom/base/api",function(a,e,j,k,l,h,i){function g(b,a){var d=k[a]||{};b.originalType||(b.selector?d.delegateFix&&(b.originalType=a,a=d.delegateFix):d.onFix&&(b.originalType=a,a=d.onFix));return a}function d(b,c,d){var f,e,j,d=a.merge(d),c=g(d,c);f=h.getCustomEvents(b,1);if(!(j=f.handle))j=f.handle=function(b){var a=b.type,c=j.currentTarget;if(!(h.triggeredEvent==a||"undefined"==typeof KISSY))if(a=h.getCustomEvent(c,a))return b.currentTarget=c,b=new i(b),a.notify(b)},j.currentTarget=
b;if(!(e=f.events))e=f.events={};f=e[c];f||(f=e[c]=new h({type:c,fn:j,currentTarget:b}),f.setup());f.on(d);b=null}var f=e._Utils;a.mix(e,{add:function(b,c,e,g){c=a.trim(c);b=j.query(b);f.batchForType(function(b,a,c,e){c=f.normalizeParam(a,c,e);a=c.type;for(e=b.length-1;0<=e;e--)d(b[e],a,c)},1,b,c,e,g);return b},remove:function(b,c,d,e){c=a.trim(c);b=j.query(b);f.batchForType(function(b,c,d,e){d=f.normalizeParam(c,d,e);c=d.type;for(e=b.length-1;0<=e;e--){var i=b[e],j=c,k=d,k=a.merge(k),l=void 0,j=
g(k,j),i=h.getCustomEvents(i),l=(i||{}).events;if(i&&l)if(j)(l=l[j])&&l.detach(k);else for(j in l)l[j].detach(k)}},1,b,c,d,e);return b},delegate:function(b,a,d,f,g){return e.add(b,a,{fn:f,context:g,selector:d})},undelegate:function(b,a,d,f,g){return e.remove(b,a,{fn:f,context:g,selector:d})},fire:function(b,c,d,e){var g=void 0,d=d||{};d.synthetic=1;f.splitAndRun(c,function(c){d.type=c;var i,k,l,c=f.getTypedGroups(c);(k=c[1])&&(k=f.getGroupsRe(k));c=c[0];a.mix(d,{type:c,_ks_groups:k});b=j.query(b);
for(k=b.length-1;0<=k;k--)i=b[k],l=h.getCustomEvent(i,c),!e&&!l&&(l=new h({type:c,currentTarget:i})),l&&(i=l.fire(d,e),!1!==g&&(g=i))});return g},fireHandler:function(b,a,d){return e.fire(b,a,d,1)},_clone:function(b,c){var f;(f=h.getCustomEvents(b))&&a.each(f.events,function(b,f){a.each(b.observers,function(b){d(c,f,b)})})},_ObservableDOMEvent:h});e.on=e.add;e.detach=e.remove;return e},{requires:"event/base,dom,./special,./utils,./observable,./object".split(",")});
KISSY.add("event/dom/base",function(a,e,j,k,l,h){a.mix(e,{KeyCodes:j,_DOMUtils:k,Gesture:l,_Special:h});return e},{requires:"event/base,./base/key-codes,./base/utils,./base/gesture,./base/special,./base/api,./base/mouseenter,./base/mousewheel,./base/valuechange".split(",")});KISSY.add("event/dom/base/gesture",function(){return{start:"mousedown",move:"mousemove",end:"mouseup",tap:"click",doubleTap:"dblclick"}});
KISSY.add("event/dom/base/key-codes",function(a){var e=a.UA,j={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,
Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,
WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(a){if(a.altKey&&!a.ctrlKey||a.metaKey||a.keyCode>=j.F1&&a.keyCode<=j.F12)return!1;switch(a.keyCode){case j.ALT:case j.CAPS_LOCK:case j.CONTEXT_MENU:case j.CTRL:case j.DOWN:case j.END:case j.ESC:case j.HOME:case j.INSERT:case j.LEFT:case j.MAC_FF_META:case j.META:case j.NUMLOCK:case j.NUM_CENTER:case j.PAGE_DOWN:case j.PAGE_UP:case j.PAUSE:case j.PRINT_SCREEN:case j.RIGHT:case j.SHIFT:case j.UP:case j.WIN_KEY:case j.WIN_KEY_RIGHT:return!1;
default:return!0}},isCharacterKey:function(a){if(a>=j.ZERO&&a<=j.NINE||a>=j.NUM_ZERO&&a<=j.NUM_MULTIPLY||a>=j.A&&a<=j.Z||e.webkit&&0==a)return!0;switch(a){case j.SPACE:case j.QUESTION_MARK:case j.NUM_PLUS:case j.NUM_MINUS:case j.NUM_PERIOD:case j.NUM_DIVISION:case j.SEMICOLON:case j.DASH:case j.EQUALS:case j.COMMA:case j.PERIOD:case j.SLASH:case j.APOSTROPHE:case j.SINGLE_QUOTE:case j.OPEN_SQUARE_BRACKET:case j.BACKSLASH:case j.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}};return j});
KISSY.add("event/dom/base/mouseenter",function(a,e,j,k){a.each([{name:"mouseenter",fix:"mouseover"},{name:"mouseleave",fix:"mouseout"}],function(a){k[a.name]={onFix:a.fix,delegateFix:a.fix,handle:function(a,e,g){var d=a.currentTarget,f=a.relatedTarget;if(!f||f!==d&&!j.contains(d,f))return[e.simpleNotify(a,g)]}}});return e},{requires:["./api","dom","./special"]});
KISSY.add("event/dom/base/mousewheel",function(a,e){var j=a.UA.gecko?"DOMMouseScroll":"mousewheel";e.mousewheel={onFix:j,delegateFix:j}},{requires:["./special"]});
KISSY.add("event/dom/base/object",function(a,e,j){function k(b){this.scale=this.rotation=this.targetTouches=this.touches=this.changedTouches=this.which=this.wheelDelta=this.view=this.toElement=this.srcElement=this.shiftKey=this.screenY=this.screenX=this.relatedTarget=this.relatedNode=this.prevValue=this.pageY=this.pageX=this.offsetY=this.offsetX=this.newValue=this.metaKey=this.keyCode=this.handler=this.fromElement=this.eventPhase=this.detail=this.data=this.ctrlKey=this.clientY=this.clientX=this.charCode=
this.cancelable=this.button=this.bubbles=this.attrName=this.attrChange=this.altKey=j;k.superclass.constructor.call(this);this.originalEvent=b;this.isDefaultPrevented=b.defaultPrevented||b.returnValue===d||b.getPreventDefault&&b.getPreventDefault()?function(){return g}:function(){return d};l(this);h(this)}function l(b){for(var a=b.originalEvent,d=f.length,e,g=a.currentTarget,g=9===g.nodeType?g:g.ownerDocument||i;d;)e=f[--d],b[e]=a[e];b.target||(b.target=b.srcElement||g);3===b.target.nodeType&&(b.target=
b.target.parentNode);!b.relatedTarget&&b.fromElement&&(b.relatedTarget=b.fromElement===b.target?b.toElement:b.fromElement);b.pageX===j&&b.clientX!==j&&(a=g.documentElement,d=g.body,b.pageX=b.clientX+(a&&a.scrollLeft||d&&d.scrollLeft||0)-(a&&a.clientLeft||d&&d.clientLeft||0),b.pageY=b.clientY+(a&&a.scrollTop||d&&d.scrollTop||0)-(a&&a.clientTop||d&&d.clientTop||0));b.which===j&&(b.which=b.charCode===j?b.keyCode:b.charCode);b.metaKey===j&&(b.metaKey=b.ctrlKey);!b.which&&b.button!==j&&(b.which=b.button&
1?1:b.button&2?3:b.button&4?2:0)}function h(b){var c,d,f,e=b.detail;b.wheelDelta&&(f=b.wheelDelta/120);b.detail&&(f=-(0==e%3?e/3:e));b.axis!==j&&(b.axis===b.HORIZONTAL_AXIS?(d=0,c=-1*f):b.axis===b.VERTICAL_AXIS&&(c=0,d=f));b.wheelDeltaY!==j&&(d=b.wheelDeltaY/120);b.wheelDeltaX!==j&&(c=-1*b.wheelDeltaX/120);!c&&!d&&(d=f);(c!==j||d!==j||f!==j)&&a.mix(b,{deltaY:d,delta:f,deltaX:c})}var i=a.Env.host.document,g=!0,d=!1,f="type,altKey,attrChange,attrName,bubbles,button,cancelable,charCode,clientX,clientY,ctrlKey,currentTarget,data,detail,eventPhase,fromElement,handler,keyCode,metaKey,newValue,offsetX,offsetY,pageX,pageY,prevValue,relatedNode,relatedTarget,screenX,screenY,shiftKey,srcElement,target,toElement,view,wheelDelta,which,axis,changedTouches,touches,targetTouches,rotation,scale".split(",");
a.extend(k,e._Object,{constructor:k,preventDefault:function(){var b=this.originalEvent;b.preventDefault?b.preventDefault():b.returnValue=d;k.superclass.preventDefault.call(this)},stopPropagation:function(){var b=this.originalEvent;b.stopPropagation?b.stopPropagation():b.cancelBubble=g;k.superclass.stopPropagation.call(this)}});return e.DOMEventObject=k},{requires:["event/base"]});
KISSY.add("event/dom/base/observable",function(a,e,j,k,l,h,i){function g(d){a.mix(this,d);this.reset()}var d=i._Utils;a.extend(g,i._ObservableEvent,{setup:function(){var a=this.type,b=j[a]||{},c=this.currentTarget,d=k.data(c).handle;(!b.setup||!1===b.setup.call(c,a))&&k.simpleAdd(c,a,d)},constructor:g,reset:function(){g.superclass.reset.call(this);this.lastCount=this.delegateCount=0},notify:function(a){var b=a.target,c=this.currentTarget,d=this.observers,g=[],h,i,j=this.delegateCount||0,k,l;if(j&&
!b.disabled)for(;b!=c;){k=[];for(i=0;i<j;i++)l=d[i],e.test(b,l.selector)&&k.push(l);k.length&&g.push({currentTarget:b,currentTargetObservers:k});b=b.parentNode||c}g.push({currentTarget:c,currentTargetObservers:d.slice(j)});i=0;for(b=g.length;!a.isPropagationStopped()&&i<b;++i){c=g[i];k=c.currentTargetObservers;c=c.currentTarget;a.currentTarget=c;for(c=0;!a.isImmediatePropagationStopped()&&c<k.length;c++)d=k[c],d=d.notify(a,this),!1!==h&&(h=d)}return h},fire:function(d,b){var d=d||{},c=this.type,i=
j[c];i&&i.onFix&&(c=i.onFix);var k,l,i=this.currentTarget,p=!0;d.type=c;d instanceof h||(l=d,d=new h({currentTarget:i,target:i}),a.mix(d,l));l=i;k=e.getWindow(l.ownerDocument||l);var t=k.document,r=[],s=0,q="on"+c;do r.push(l),l=l.parentNode||l.ownerDocument||l===t&&k;while(l);l=r[s];do{d.currentTarget=l;if(k=g.getCustomEvent(l,c))k=k.notify(d),!1!==p&&(p=k);l[q]&&!1===l[q].call(l)&&d.preventDefault();l=r[++s]}while(!b&&l&&!d.isPropagationStopped());if(!b&&!d.isDefaultPrevented()){var u;try{if(q&&
i[c]&&("focus"!==c&&"blur"!==c||0!==i.offsetWidth)&&!a.isWindow(i))(u=i[q])&&(i[q]=null),g.triggeredEvent=c,i[c]()}catch(v){}u&&(i[q]=u);g.triggeredEvent=""}return p},on:function(a){var b=this.observers,c=j[this.type]||{},a=a instanceof l?a:new l(a);-1==this.findObserver(a)&&(a.selector?(b.splice(this.delegateCount,0,a),this.delegateCount++):a.last?(b.push(a),this.lastCount++):b.splice(b.length-this.lastCount,0,a),c.add&&c.add.call(this.currentTarget,a))},detach:function(a){var b,c=j[this.type]||
{},e="selector"in a,g=a.selector,h=a.context,i=a.fn,k=this.currentTarget,l=this.observers,a=a.groups;if(l.length){a&&(b=d.getGroupsRe(a));var s,q,u,v,w=l.length;if(i||e||b){h=h||k;s=a=0;for(q=[];a<w;++a)u=l[a],v=u.context||k,h!=v||i&&i!=u.fn||e&&(g&&g!=u.selector||!g&&!u.selector)||b&&!u.groups.match(b)?q[s++]=u:(u.selector&&this.delegateCount&&this.delegateCount--,u.last&&this.lastCount&&this.lastCount--,c.remove&&c.remove.call(k,u));this.observers=q}else this.reset();this.checkMemory()}},checkMemory:function(){var d=
this.type,b,c,e=j[d]||{},g=this.currentTarget,h=k.data(g);if(h&&(b=h.events,this.hasObserver()||(c=h.handle,(!e.tearDown||!1===e.tearDown.call(g,d))&&k.simpleRemove(g,d,c),delete b[d]),a.isEmptyObject(b)))h.handle=null,k.removeData(g)}});g.triggeredEvent="";g.getCustomEvent=function(a,b){var c=k.data(a),d;c&&(d=c.events);if(d)return d[b]};g.getCustomEvents=function(a,b){var c=k.data(a);!c&&b&&k.data(a,c={});return c};return g},{requires:"dom,./special,./utils,./observer,./object,event/base".split(",")});
KISSY.add("event/dom/base/observer",function(a,e,j){function k(a){k.superclass.constructor.apply(this,arguments)}a.extend(k,j._Observer,{keys:"fn,selector,data,context,originalType,groups,last".split(","),notifyInternal:function(a,h){var i,g,d=a.type;this.originalType&&(a.type=this.originalType);(i=e[a.type])&&i.handle?(i=i.handle(a,this,h))&&0<i.length&&(g=i[0]):g=this.simpleNotify(a,h);a.type=d;return g}});return k},{requires:["./special","event/base"]});KISSY.add("event/dom/base/special",function(){return{}});
KISSY.add("event/dom/base/utils",function(a,e){var j=a.Env.host.document;return{simpleAdd:j&&j.addEventListener?function(a,e,h,i){a.addEventListener&&a.addEventListener(e,h,!!i)}:function(a,e,h){a.attachEvent&&a.attachEvent("on"+e,h)},simpleRemove:j&&j.removeEventListener?function(a,e,h,i){a.removeEventListener&&a.removeEventListener(e,h,!!i)}:function(a,e,h){a.detachEvent&&a.detachEvent("on"+e,h)},data:function(a,j){return e.data(a,"ksEventTargetId_1.30",j)},removeData:function(a){return e.removeData(a,
"ksEventTargetId_1.30")}}},{requires:["dom"]});
KISSY.add("event/dom/base/valuechange",function(a,e,j,k){function l(a){if(j.hasData(a,o)){var b=j.data(a,o);clearTimeout(b);j.removeData(a,o)}}function h(a){l(a.target)}function i(a){var b=a.value,d=j.data(a,n);b!==d&&(e.fireHandler(a,c,{prevVal:d,newVal:b}),j.data(a,n,b))}function g(a){j.hasData(a,o)||j.data(a,o,setTimeout(function(){i(a);j.data(a,o,setTimeout(arguments.callee,p))},p))}function d(a){var b=a.target;"focus"==a.type&&j.data(b,n,b.value);g(b)}function f(a){i(a.target)}function b(a){j.removeData(a,
n);l(a);e.remove(a,"blur",h);e.remove(a,"webkitspeechchange",f);e.remove(a,"mousedown keyup keydown focus",d)}var c="valuechange",m=j.nodeName,n="event/valuechange/history",o="event/valuechange/poll",p=50;k[c]={setup:function(){var a=m(this);if("input"==a||"textarea"==a)b(this),e.on(this,"blur",h),e.on(this,"webkitspeechchange",f),e.on(this,"mousedown keyup keydown focus",d)},tearDown:function(){b(this)}};return e},{requires:["./api","dom","./special"]});
KISSY.add("event/dom/focusin",function(a,e){var j=e._Special;a.each([{name:"focusin",fix:"focus"},{name:"focusout",fix:"blur"}],function(k){function l(a){return e.fire(a.target,k.name)}var h=a.guid("attaches_"+a.now()+"_");j[k.name]={setup:function(){var a=this.ownerDocument||this;h in a||(a[h]=0);a[h]+=1;1===a[h]&&a.addEventListener(k.fix,l,!0)},tearDown:function(){var a=this.ownerDocument||this;a[h]-=1;0===a[h]&&a.removeEventListener(k.fix,l,!0)}}});return e},{requires:["event/dom/base"]});
KISSY.add("event/dom/hashchange",function(a,e,j){var k=a.UA,l=e._Special,h=a.Env.host,i=h.document,g=i&&i.documentMode,d="__replace_history_"+a.now(),k=g||k.ie;e.REPLACE_HISTORY=d;var f="<html><head><title>"+(i&&i.title||"")+" - {hash}</title>{head}</head><body>{hash}</body></html>",b=function(){return"#"+(new a.Uri(location.href)).getFragment()},c,m,n=function(){var f=b(),e;if(e=a.endsWith(f,d))f=f.slice(0,-d.length),location.hash=f;f!==m&&(m=f,o(f,e));c=setTimeout(n,50)},o=k&&8>k?function(b,c){var d=
a.substitute(f,{hash:a.escapeHTML(b),head:j.isCustomDomain()?"<script>document.domain = '"+i.domain+"';<\/script>":""}),e=r.contentWindow.document;try{c?e.open("text/html","replace"):e.open(),e.write(d),e.close()}catch(g){}}:function(){e.fireHandler(h,"hashchange")},p=function(){c||n()},t=function(){c&&clearTimeout(c);c=0},r;k&&8>k&&(p=function(){if(!r){var c=j.getEmptyIframeSrc();r=j.create("<iframe "+(c?'src="'+c+'"':"")+' style="display: none" height="0" width="0" tabindex="-1" title="empty"/>');
j.prepend(r,i.documentElement);e.add(r,"load",function(){e.remove(r,"load");o(b());e.add(r,"load",d);n()});i.onpropertychange=function(){try{"title"===event.propertyName&&(r.contentWindow.document.title=i.title+" - "+b())}catch(a){}};var d=function(){var c=a.trim(r.contentWindow.document.body.innerText),d=b();c!=d&&(m=location.hash=c);e.fireHandler(h,"hashchange")}}},t=function(){c&&clearTimeout(c);c=0;e.detach(r);j.remove(r);r=0});l.hashchange={setup:function(){if(this===h){m=b();p()}},tearDown:function(){this===
h&&t()}}},{requires:["event/dom/base","dom"]});
KISSY.add("event/dom/ie/change",function(a,e,j){function k(a){a=a.type;return"checkbox"==a||"radio"==a}function l(a){"checked"==a.originalEvent.propertyName&&(this.__changed=1)}function h(a){this.__changed&&(this.__changed=0,e.fire(this,"change",a))}function i(a){a=a.target;d.test(a.nodeName)&&!a.__changeHandler&&(a.__changeHandler=1,e.on(a,"change",{fn:g,last:1}))}function g(a){if(!a.isPropagationStopped()&&!k(this)){var b;(b=this.parentNode)&&e.fire(b,"change",a)}}var d=/^(?:textarea|input|select)$/i;
e._Special.change={setup:function(){if(d.test(this.nodeName))if(k(this))e.on(this,"propertychange",l),e.on(this,"click",h);else return!1;else e.on(this,"beforeactivate",i)},tearDown:function(){if(d.test(this.nodeName))if(k(this))e.remove(this,"propertychange",l),e.remove(this,"click",h);else return!1;else e.remove(this,"beforeactivate",i),a.each(j.query("textarea,input,select",this),function(a){a.__changeHandler&&(a.__changeHandler=0,e.remove(a,"change",{fn:g,last:1}))})}}},{requires:["event/dom/base",
"dom"]});KISSY.add("event/dom/ie",function(){},{requires:["./ie/change","./ie/submit"]});
KISSY.add("event/dom/ie/submit",function(a,e,j){function k(a){var a=a.target,g=h(a);if((a="input"==g||"button"==g?a.form:null)&&!a.__submit__fix)a.__submit__fix=1,e.on(a,"submit",{fn:l,last:1})}function l(a){this.parentNode&&!a.isPropagationStopped()&&!a.synthetic&&e.fire(this.parentNode,"submit",a)}var h=j.nodeName;e._Special.submit={setup:function(){if("form"==h(this))return!1;e.on(this,"click keypress",k)},tearDown:function(){if("form"==h(this))return!1;e.remove(this,"click keypress",k);a.each(j.query("form",
this),function(a){a.__submit__fix&&(a.__submit__fix=0,e.remove(a,"submit",{fn:l,last:1}))})}}},{requires:["event/dom/base","dom"]});
KISSY.add("event/dom/shake",function(a,e,j){function k(a){var e=a.accelerationIncludingGravity,a=e.x,k=e.y,e=e.z,l;d!==j&&(l=c(m(a-d),m(k-f),m(e-b)),l>h&&o(),l>i&&(g=1));d=a;f=k;b=e}var l=e._Special,h=5,i=20,g=0,d,f,b,c=Math.max,m=Math.abs,n=a.Env.host,o=a.buffer(function(){g&&(e.fireHandler(n,"shake",{accelerationIncludingGravity:{x:d,y:f,z:b}}),d=j,g=0)},250);l.shake={setup:function(){this==n&&n.addEventListener("devicemotion",k,!1)},tearDown:function(){this==n&&(o.stop(),d=j,g=0,n.removeEventListener("devicemotion",
k,!1))}}},{requires:["event/dom/base"]});
KISSY.add("event/dom/touch/double-tap",function(a,e,j,k){function l(){}a.extend(l,k,{onTouchStart:function(a){if(!1===l.superclass.onTouchStart.apply(this,arguments))return!1;this.startTime=a.timeStamp;this.singleTapTimer&&(clearTimeout(this.singleTapTimer),this.singleTapTimer=0)},onTouchMove:function(){return!1},onTouchEnd:function(a){var e=this.lastEndTime,g=a.timeStamp,d=a.target,f=a.changedTouches[0],b=g-this.startTime;this.lastEndTime=g;if(e&&(b=g-e,300>b)){this.lastEndTime=0;j.fire(d,"doubleTap",
{touch:f,duration:b/1E3});return}b=g-this.startTime;300<b?j.fire(d,"singleTap",{touch:f,duration:b/1E3}):this.singleTapTimer=setTimeout(function(){j.fire(d,"singleTap",{touch:f,duration:b/1E3})},300)}});e.singleTap=e.doubleTap={handle:new l};return l},{requires:["./handle-map","event/dom/base","./single-touch"]});
KISSY.add("event/dom/touch/gesture",function(a,e){var j=e.Gesture,k,l,h;a.Features.isTouchSupported()&&(k="touchstart",l="touchmove",h="touchend");k&&(j.start=k,j.move=l,j.end=h,j.tap="tap",j.doubleTap="doubleTap");return j},{requires:["event/dom/base"]});KISSY.add("event/dom/touch/handle-map",function(){return{}});
KISSY.add("event/dom/touch/handle",function(a,e,j,k,l){function h(a){this.doc=a;this.eventHandle={};this.init()}var i=a.guid("touch-handle"),g=a.Features,d={};d[l.start]="onTouchStart";d[l.move]="onTouchMove";d[l.end]="onTouchEnd";"mousedown"!==l.start&&(d.touchcancel="onTouchEnd");var f=a.throttle(function(a){this.callEventHandle("onTouchMove",a)},30);h.prototype={constructor:h,init:function(){var a=this.doc,c,e;for(c in d){e=d[c];k.on(a,c,this[e],this)}},normalize:function(a){var c=a.type,d;if(!g.isTouchSupported()){if(c.indexOf("mouse")!=
-1&&a.which!=1)return;d=[a];c=!c.match(/up$/i);a.touches=c?d:[];a.targetTouches=c?d:[];a.changedTouches=d}return a},onTouchMove:function(a){f.call(this,a)},onTouchStart:function(a){var c,d,e=this.eventHandle;for(c in e){d=e[c];d.isActive=1}this.callEventHandle("onTouchStart",a)},onTouchEnd:function(a){this.callEventHandle("onTouchEnd",a)},callEventHandle:function(a,c){var d=this.eventHandle,e,f;if(c=this.normalize(c)){for(e in d){f=d[e];if(!f.processed){f.processed=1;if(f.isActive&&f[a](c)===false)f.isActive=
0}}for(e in d){f=d[e];f.processed=0}}},addEventHandle:function(a){var c=j[a].handle;this.eventHandle[a]||(this.eventHandle[a]=c)},removeEventHandle:function(a){delete this.eventHandle[a]},destroy:function(){var a=this.doc,c,e;for(c in d){e=d[c];k.detach(a,c,this[e],this)}}};return{addDocumentHandle:function(a,c){var d=e.getWindow(a.ownerDocument||a).document,f=j[c].setup,g=e.data(d,i);g||e.data(d,i,g=new h(d));f&&f.call(a,c);g.addEventHandle(c)},removeDocumentHandle:function(b,c){var d=e.getWindow(b.ownerDocument||
b).document,f=j[c].tearDown,g=e.data(d,i);f&&f.call(b,c);if(g){g.removeEventHandle(c);if(a.isEmptyObject(g.eventHandle)){g.destroy();e.removeData(d,i)}}}}},{requires:"dom,./handle-map,event/dom/base,./gesture,./tap,./swipe,./double-tap,./pinch,./tap-hold,./rotate".split(",")});
KISSY.add("event/dom/touch/multi-touch",function(a,e){function j(){}j.prototype={constructor:j,requiredTouchCount:2,onTouchStart:function(a){var e=this.requiredTouchCount,h=a.touches.length;h===e?this.start():h>e&&this.end(a)},onTouchEnd:function(a){this.end(a)},start:function(){this.isTracking||(this.isTracking=!0,this.isStarted=!1)},fireEnd:a.noop,getCommonTarget:function(a){var j=a.touches,a=j[0].target,j=j[1].target;if(a==j||e.contains(a,j))return a;for(;;){if(e.contains(j,a))return j;j=j.parentNode}},
end:function(a){this.isTracking&&(this.isTracking=!1,this.isStarted&&(this.isStarted=!1,this.fireEnd(a)))}};return j},{requires:["dom"]});
KISSY.add("event/dom/touch/pinch",function(a,e,j,k,l){function h(){}function i(a){(!a.touches||2==a.touches.length)&&a.preventDefault()}a.extend(h,k,{onTouchMove:function(e){if(this.isTracking){var d=e.touches,f,b=d[0],c=d[1];f=b.pageX-c.pageX;b=b.pageY-c.pageY;f=Math.sqrt(f*f+b*b);this.lastTouches=d;this.isStarted?j.fire(this.target,"pinch",a.mix(e,{distance:f,scale:f/this.startDistance})):(this.isStarted=!0,this.startDistance=f,d=this.target=this.getCommonTarget(e),j.fire(d,"pinchStart",a.mix(e,
{distance:f,scale:1})))}},fireEnd:function(e){j.fire(this.target,"pinchEnd",a.mix(e,{touches:this.lastTouches}))}});k=new h;e.pinchStart=e.pinchEnd={handle:k};e.pinch={handle:k,setup:function(){j.on(this,l.move,i)},tearDown:function(){j.detach(this,l.move,i)}};return h},{requires:["./handle-map","event/dom/base","./multi-touch","./gesture"]});
KISSY.add("event/dom/touch/rotate",function(a,e,j,k,l,h){function i(){}function g(a){(!a.touches||2==a.touches.length)&&a.preventDefault()}var d=180/Math.PI;a.extend(i,j,{onTouchMove:function(e){if(this.isTracking){var b=e.touches,c=b[0],g=b[1],i=this.lastAngle,c=Math.atan2(g.pageY-c.pageY,g.pageX-c.pageX)*d;if(i!==h){var g=Math.abs(c-i),j=(c+360)%360,l=(c-360)%360;Math.abs(j-i)<g?c=j:Math.abs(l-i)<g&&(c=l)}this.lastTouches=b;this.lastAngle=c;this.isStarted?k.fire(this.target,"rotate",a.mix(e,{angle:c,
rotation:c-this.startAngle})):(this.isStarted=!0,this.startAngle=c,this.target=this.getCommonTarget(e),k.fire(this.target,"rotateStart",a.mix(e,{angle:c,rotation:0})))}},end:function(){this.lastAngle=h;i.superclass.end.apply(this,arguments)},fireEnd:function(d){k.fire(this.target,"rotateEnd",a.mix(d,{touches:this.lastTouches}))}});j=new i;e.rotateEnd=e.rotateStart={handle:j};e.rotate={handle:j,setup:function(){k.on(this,l.move,g)},tearDown:function(){k.detach(this,l.move,g)}};return i},{requires:["./handle-map",
"./multi-touch","event/dom/base","./gesture"]});KISSY.add("event/dom/touch/single-touch",function(a){function e(){}e.prototype={constructor:e,requiredTouchCount:1,onTouchStart:function(a){if(a.touches.length!=this.requiredTouchCount)return!1;this.lastTouches=a.touches},onTouchMove:a.noop,onTouchEnd:a.noop};return e});
KISSY.add("event/dom/touch/swipe",function(a,e,j,k,l){function h(){}function i(a){(!a.touches||1==a.touches.length)&&a.preventDefault()}a.extend(h,k,{onTouchStart:function(a){if(!1===h.superclass.onTouchStart.apply(this,arguments))return!1;var d=a.touches[0];this.startTime=a.timeStamp;this.isVertical=this.isHorizontal=1;this.startX=d.pageX;this.startY=d.pageY;-1!=a.type.indexOf("mouse")&&a.preventDefault()},onTouchMove:function(a){var d=a.changedTouches[0],e=d.pageY,d=Math.abs(d.pageX-this.startX),
e=Math.abs(e-this.startY);if(1E3<a.timeStamp-this.startTime)return!1;this.isVertical&&35<d&&(this.isVertical=0);this.isHorizontal&&35<e&&(this.isHorizontal=0);if(!this.isHorizontal&&!this.isVertical)return!1},onTouchEnd:function(a){if(!1===this.onTouchMove(a))return!1;var d=a.changedTouches[0],e=d.pageX-this.startX,b=d.pageY-this.startY,c=Math.abs(e),h=Math.abs(b);this.isVertical&&50>h&&(this.isVertical=0);this.isHorizontal&&50>c&&(this.isHorizontal=0);if(this.isHorizontal)e=0>e?"left":"right";else if(this.isVertical)e=
0>b?"up":"down",c=h;else return!1;j.fire(a.target,"swipe",{touch:d,direction:e,distance:c,duration:(a.timeStamp-this.startTime)/1E3})}});e.swipe={setup:function(){j.on(this,l.move,i)},tearDown:function(){j.detach(this,l.move,i)},handle:new h};return h},{requires:["./handle-map","event/dom/base","./single-touch","./gesture"]});
KISSY.add("event/dom/touch/tap-hold",function(a,e,j,k,l){function h(){}function i(a){(!a.touches||1==a.touches.length)&&a.preventDefault()}a.extend(h,j,{onTouchStart:function(e){if(!1===h.superclass.onTouchStart.call(this,e))return!1;this.timer=setTimeout(function(){k.fire(e.target,"tapHold",{touch:e.touches[0],duration:(a.now()-e.timeStamp)/1E3})},1E3)},onTouchMove:function(){clearTimeout(this.timer);return!1},onTouchEnd:function(){clearTimeout(this.timer)}});e.tapHold={setup:function(){k.on(this,
l.start,i)},tearDown:function(){k.detach(this,l.start,i)},handle:new h};return h},{requires:["./handle-map","./single-touch","event/dom/base","./gesture"]});KISSY.add("event/dom/touch/tap",function(a,e,j,k){function l(){}a.extend(l,k,{onTouchMove:function(){return!1},onTouchEnd:function(a){j.fire(a.target,"tap",{touch:a.changedTouches[0]})}});e.tap={handle:new l};return l},{requires:["./handle-map","event/dom/base","./single-touch"]});
KISSY.add("event/dom/touch",function(a,e,j,k){var a=e._Special,e={setup:function(a){k.addDocumentHandle(this,a)},tearDown:function(a){k.removeDocumentHandle(this,a)}},l;for(l in j)a[l]=e},{requires:["event/dom/base","./touch/handle-map","./touch/handle"]});KISSY.add("json/facade",function(a,e){e||(e=JSON);return a.JSON={parse:function(a){return null==a||""===a?null:e.parse(a)},stringify:e.stringify}},{requires:[KISSY.Features.isNativeJSONSupported()?"":"json/json2"]});
KISSY.add("json/json2",function(){function a(a){return 10>a?"0"+a:a}function e(a){h.lastIndex=0;return h.test(a)?'"'+a.replace(h,function(a){var b=d[a];return"string"===typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function j(a,c){var d,h,k,l,t=i,r,s=c[a];s&&"object"===typeof s&&"function"===typeof s.toJSON&&(s=s.toJSON(a));"function"===typeof f&&(s=f.call(c,a,s));switch(typeof s){case "string":return e(s);case "number":return isFinite(s)?""+s:"null";case "boolean":case "null":return""+
s;case "object":if(!s)return"null";i+=g;r=[];if("[object Array]"===Object.prototype.toString.apply(s)){l=s.length;for(d=0;d<l;d+=1)r[d]=j(d,s)||"null";k=0===r.length?"[]":i?"[\n"+i+r.join(",\n"+i)+"\n"+t+"]":"["+r.join(",")+"]";i=t;return k}if(f&&"object"===typeof f){l=f.length;for(d=0;d<l;d+=1)h=f[d],"string"===typeof h&&(k=j(h,s))&&r.push(e(h)+(i?": ":":")+k)}else for(h in s)Object.hasOwnProperty.call(s,h)&&(k=j(h,s))&&r.push(e(h)+(i?": ":":")+k);k=0===r.length?"{}":i?"{\n"+i+r.join(",\n"+i)+"\n"+
t+"}":"{"+r.join(",")+"}";i=t;return k}}var k={};"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var l=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
h=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,i,g,d={"":"\\b","\t":"\\t","\n":"\\n","":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},f;k.stringify=function(a,c,d){var e;g=i="";if(typeof d==="number")for(e=0;e<d;e=e+1)g=g+" ";else typeof d==="string"&&(g=d);if((f=c)&&typeof c!=="function"&&(typeof c!=="object"||typeof c.length!=="number"))throw Error("JSON.stringify");return j("",{"":a})};k.parse=function(a,c){function d(a,
b){var e,f,g=a[b];if(g&&typeof g==="object")for(e in g)if(Object.hasOwnProperty.call(g,e)){f=d(g,e);f!==void 0?g[e]=f:delete g[e]}return c.call(a,b,g)}var e,a=""+a;l.lastIndex=0;l.test(a)&&(a=a.replace(l,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\t\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){e=eval("("+a+")");return typeof c===
"function"?d({"":e},""):e}throw new SyntaxError("JSON.parse");};return k});
KISSY.add("io/base",function(a,e,j,k){function l(b){var e=b.context;delete b.context;b=a.mix(a.clone(o),b,{deep:!0});b.context=e||b;var f,g=b.type,h=b.dataType,e=b.uri=m.resolve(b.url);b.uri.setQuery("");"crossDomain"in b||(b.crossDomain=!b.uri.isSameOriginAs(m));g=b.type=g.toUpperCase();b.hasContent=!c.test(g);if(b.processData&&(f=b.data)&&"string"!=typeof f)b.data=a.param(f,k,k,b.serializeArray);h=b.dataType=a.trim(h||"*").split(d);!("cache"in b)&&a.inArray(h[0],["script","jsonp"])&&(b.cache=!1);
b.hasContent||(b.data&&e.query.add(a.unparam(b.data)),!1===b.cache&&e.query.set("_ksTS",a.now()+"_"+a.guid()));return b}function h(a,b){i.fire(a,{ajaxConfig:b.config,io:b})}function i(c){function d(a){return function(b){if(j=e.timeoutTimer)clearTimeout(j),e.timeoutTimer=0;var d=c[a];d&&d.apply(o,b);h(a,e)}}var e=this;if(!(e instanceof i))return new i(c);b.call(e);c=l(c);a.mix(e,{responseData:null,config:c||{},timeoutTimer:null,responseText:null,responseXML:null,responseHeadersString:"",responseHeaders:null,
requestHeaders:{},readyState:0,state:0,statusText:null,status:0,transport:null,_defer:new a.Defer(this)});var f;h("start",e);f=new (n[c.dataType[0]]||n["*"])(e);e.transport=f;c.contentType&&e.setRequestHeader("Content-Type",c.contentType);var g=c.dataType[0],j,k,m=c.timeout,o=c.context,A=c.headers,y=c.accepts;e.setRequestHeader("Accept",g&&y[g]?y[g]+("*"===g?"":", */*; q=0.01"):y["*"]);for(k in A)e.setRequestHeader(k,A[k]);if(c.beforeSend&&!1===c.beforeSend.call(o,e,c))return e;e.then(d("success"),
d("error"));e.fin(d("complete"));e.readyState=1;h("send",e);c.async&&0<m&&(e.timeoutTimer=setTimeout(function(){e.abort("timeout")},1E3*m));try{e.state=1,f.send()}catch(B){2>e.state&&e._ioReady(-1,B.message)}return e}var g=/^(?:about|app|app\-storage|.+\-extension|file|widget)$/,d=/\s+/,f=function(a){return a},b=a.Promise,c=/^(?:GET|HEAD)$/,m=new a.Uri((a.Env.host.location||{}).href),g=m&&g.test(m.getScheme()),n={},o={type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",async:!0,
serializeArray:!0,processData:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":"*/*"},converters:{text:{json:e.parse,html:f,text:f,xml:a.parseXML}},contents:{xml:/xml/,html:/html/,json:/json/}};o.converters.html=o.converters.text;a.mix(i,j.Target);a.mix(i,{isLocal:g,setupConfig:function(b){a.mix(o,b,{deep:!0})},setupTransport:function(a,b){n[a]=b},getTransport:function(a){return n[a]},getConfig:function(){return o}});return i},
{requires:["json","event"]});
KISSY.add("io/form-serializer",function(a,e){function j(a){return a.replace(l,"\r\n")}var k=/^(?:select|textarea)/i,l=/\r?\n/g,h,i=/^(?:color|date|datetime|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i;return h={serialize:function(e,d){return a.param(h.getFormData(e),void 0,void 0,d||!1)},getFormData:function(g){var d=[],f={};a.each(e.query(g),function(b){b=b.elements?a.makeArray(b.elements):[b];d.push.apply(d,b)});d=a.filter(d,function(a){return a.name&&!a.disabled&&
(a.checked||k.test(a.nodeName)||i.test(a.type))});a.each(d,function(b){var c=e.val(b),d;null!==c&&(c=a.isArray(c)?a.map(c,j):j(c),(d=f[b.name])?(d&&!a.isArray(d)&&(d=f[b.name]=[d]),d.push.apply(d,a.makeArray(c))):f[b.name]=c)});return f}}},{requires:["dom"]});
KISSY.add("io/form",function(a,e,j,k){e.on("start",function(e){var h,i,g,e=e.io.config;if(g=e.form)h=j.get(g),i=h.encoding||h.enctype,g=e.data,"multipart/form-data"!=i.toLowerCase()?(h=k.getFormData(h),e.hasContent?(h=a.param(h,void 0,void 0,e.serializeArray),e.data=g?e.data+("&"+h):h):e.uri.query.add(h)):(g=e.dataType,e=g[0],"*"==e&&(e="text"),g.length=2,g[0]="iframe",g[1]=e)});return e},{requires:["./base","dom","./form-serializer"]});
KISSY.add("io/iframe-transport",function(a,e,j,k){function l(d){var f=a.guid("io-iframe"),b=e.getEmptyIframeSrc(),d=d.iframe=e.create("<iframe "+(b?' src="'+b+'" ':"")+' id="'+f+'" name="'+f+'" style="position:absolute;left:-9999px;top:-9999px;"/>');e.prepend(d,g.body||g.documentElement);return d}function h(d,f,b){var c=[],h,i,j,k;a.each(d,function(d,l){h=a.isArray(d);i=a.makeArray(d);for(j=0;j<i.length;j++)k=g.createElement("input"),k.type="hidden",k.name=l+(h&&b?"[]":""),k.value=i[j],e.append(k,
f),c.push(k)});return c}function i(a){this.io=a}var g=a.Env.host.document;k.setupConfig({converters:{iframe:k.getConfig().converters.text,text:{iframe:function(a){return a}},xml:{iframe:function(a){return a}}}});a.augment(i,{send:function(){function d(){j.on(i,"load error",f._callback,f);t.submit()}var f=this,b=f.io,c=b.config,g,i,k,p=c.data,t=e.get(c.form);f.attrs={target:e.attr(t,"target")||"",action:e.attr(t,"action")||"",method:e.attr(t,"method")};f.form=t;i=l(b);e.attr(t,{target:i.id,action:b._getUrlForSend(),
method:"post"});p&&(k=a.unparam(p));k&&(g=h(k,t,c.serializeArray));f.fields=g;6==a.UA.ie?setTimeout(d,0):d()},_callback:function(d){var f=this,b=f.form,c=f.io,d=d.type,g,h=c.iframe;if(h)if("abort"==d&&6==a.UA.ie?setTimeout(function(){e.attr(b,f.attrs)},0):e.attr(b,f.attrs),e.remove(this.fields),j.detach(h),setTimeout(function(){e.remove(h)},30),c.iframe=null,"load"==d)try{if((g=h.contentWindow.document)&&g.body)c.responseText=a.trim(e.text(g.body)),a.startsWith(c.responseText,"<?xml")&&(c.responseText=
void 0);c.responseXML=g&&g.XMLDocument?g.XMLDocument:g;g?c._ioReady(200,"success"):c._ioReady(500,"parser error")}catch(i){c._ioReady(500,"parser error")}else"error"==d&&c._ioReady(500,"error")},abort:function(){this._callback({type:"abort"})}});k.setupTransport("iframe",i);return k},{requires:["dom","event","./base"]});
KISSY.add("io",function(a,e,j){function k(e,i,g,d,f){a.isFunction(i)&&(d=g,g=i,i=l);return j({type:f||"get",url:e,data:i,success:g,dataType:d})}var l=void 0;a.mix(j,{serialize:e.serialize,get:k,post:function(e,i,g,d){a.isFunction(i)&&(d=g,g=i,i=l);return k(e,i,g,d,"post")},jsonp:function(e,i,g){a.isFunction(i)&&(g=i,i=l);return k(e,i,g,"jsonp")},getScript:a.getScript,getJSON:function(e,i,g){a.isFunction(i)&&(g=i,i=l);return k(e,i,g,"json")},upload:function(e,i,g,d,f){a.isFunction(g)&&(f=d,d=g,g=l);
return j({url:e,type:"post",dataType:f,form:i,data:g,success:d})}});a.mix(a,{Ajax:j,IO:j,ajax:j,io:j,jsonp:j.jsonp});return j},{requires:"io/form-serializer,io/base,io/xhr-transport,io/script-transport,io/jsonp,io/form,io/iframe-transport,io/methods".split(",")});
KISSY.add("io/jsonp",function(a,e){var j=a.Env.host;e.setupConfig({jsonp:"callback",jsonpCallback:function(){return a.guid("jsonp")}});e.on("start",function(e){var l=e.io,h=l.config,e=h.dataType;if("jsonp"==e[0]){var i,g=h.jsonpCallback,d=a.isFunction(g)?g():g,f=j[d];h.uri.query.set(h.jsonp,d);j[d]=function(b){1<arguments.length&&(b=a.makeArray(arguments));i=[b]};l.fin(function(){j[d]=f;if(void 0===f)try{delete j[d]}catch(a){}else i&&f(i[0])});l=l.converters=l.converters||{};l.script=l.script||{};
l.script.json=function(){return i[0]};e.length=2;e[0]="script";e[1]="json"}});return e},{requires:["./base"]});
KISSY.add("io/methods",function(a,e,j){function k(e){var i=e.responseText,g=e.responseXML,d=e.config,f=d.converters,b=e.converters||{},c,k,l=d.contents,o=d.dataType;if(i||g){for(d=e.mimeType||e.getResponseHeader("Content-Type");"*"==o[0];)o.shift();if(!o.length)for(c in l)if(l[c].test(d)){o[0]!=c&&o.unshift(c);break}o[0]=o[0]||"text";if("text"==o[0]&&i!==j)k=i;else if("xml"==o[0]&&g!==j)k=g;else{var p={text:i,xml:g};a.each(["text","xml"],function(a){var c=o[0];return(b[a]&&b[a][c]||f[a]&&f[a][c])&&
p[a]?(o.unshift(a),k="text"==a?i:g,!1):j})}}l=o[0];for(d=1;d<o.length;d++){c=o[d];var t=b[l]&&b[l][c]||f[l]&&f[l][c];if(!t)throw"no covert for "+l+" => "+c;k=t(k);l=c}e.responseData=k}var l=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg;a.extend(e,a.Promise,{setRequestHeader:function(a,e){this.requestHeaders[a]=e;return this},getAllResponseHeaders:function(){return 2===this.state?this.responseHeadersString:null},getResponseHeader:function(a){var e,g;if(2===this.state){if(!(g=this.responseHeaders))for(g=this.responseHeaders=
{};e=l.exec(this.responseHeadersString);)g[e[1]]=e[2];e=g[a]}return e===j?null:e},overrideMimeType:function(a){this.state||(this.mimeType=a);return this},abort:function(a){a=a||"abort";this.transport&&this.transport.abort(a);this._ioReady(0,a);return this},getNativeXhr:function(){var a;return(a=this.transport)?a.nativeXhr:null},_ioReady:function(a,e){if(2!=this.state){this.state=2;this.readyState=4;var g;if(200<=a&&300>a||304==a)if(304==a)e="not modified",g=!0;else try{k(this),e="success",g=!0}catch(d){e=
"parser error"}else 0>a&&(a=0);this.status=a;this.statusText=e;this._defer[g?"resolve":"reject"]([this.responseData,e,this])}},_getUrlForSend:function(){var e=this.config,i=e.uri,g=a.Uri.getComponents(e.url).query||"";return i.toString(e.serializeArray)+(g?(i.query.has()?"&":"?")+g:g)}})},{requires:["./base"]});
KISSY.add("io/script-transport",function(a,e,j,k){function l(a){if(!a.config.crossDomain)return new (e.getTransport("*"))(a);this.io=a;return this}var h=a.Env.host,i=h.document;e.setupConfig({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{text:{script:function(e){a.globalEval(e);return e}}}});a.augment(l,{send:function(){var a=this,d,e=a.io,b=e.config,c=i.head||i.getElementsByTagName("head")[0]||
i.documentElement;a.head=c;d=i.createElement("script");a.script=d;d.async=!0;b.scriptCharset&&(d.charset=b.scriptCharset);d.src=e._getUrlForSend();d.onerror=d.onload=d.onreadystatechange=function(b){b=b||h.event;a._callback((b.type||"error").toLowerCase())};c.insertBefore(d,c.firstChild)},_callback:function(a,d){var e=this.script,b=this.io,c=this.head;if(e&&(d||!e.readyState||/loaded|complete/.test(e.readyState)||"error"==a))e.onerror=e.onload=e.onreadystatechange=null,c&&e.parentNode&&c.removeChild(e),
this.head=this.script=k,!d&&"error"!=a?b._ioReady(200,"success"):"error"==a&&b._ioReady(500,"script error")},abort:function(){this._callback(0,1)}});e.setupTransport("script",l);return e},{requires:["./base","./xhr-transport"]});
KISSY.add("io/sub-domain-transport",function(a,e,j,k){function l(a){var e=a.config;this.io=a;e.crossDomain=!1}function h(){var a=this.io.config.uri.getHostname(),a=g[a];a.ready=1;j.detach(a.iframe,"load",h,this);this.send()}var i=a.Env.host.document,g={};a.augment(l,e.proto,{send:function(){var d=this.io.config,f=d.uri,b=f.getHostname(),c;c=g[b];var l="/sub_domain_proxy.html";d.xdr&&d.xdr.subDomain&&d.xdr.subDomain.proxy&&(l=d.xdr.subDomain.proxy);c&&c.ready?(this.nativeXhr=e.nativeXhr(0,c.iframe.contentWindow))&&
this.sendInternal():(c?d=c.iframe:(c=g[b]={},d=c.iframe=i.createElement("iframe"),k.css(d,{position:"absolute",left:"-9999px",top:"-9999px"}),k.prepend(d,i.body||i.documentElement),c=new a.Uri,c.setScheme(f.getScheme()),c.setPort(f.getPort()),c.setHostname(b),c.setPath(l),d.src=c.toString()),j.on(d,"load",h,this))}});return l},{requires:["./xhr-transport-base","event","dom"]});
KISSY.add("io/xdr-flash-transport",function(a,e,j){function k(a,c,e){f||(f=!0,a='<object id="'+i+'" type="application/x-shockwave-flash" data="'+a+'" width="0" height="0"><param name="movie" value="'+a+'" /><param name="FlashVars" value="yid='+c+"&uid="+e+'&host=KISSY.IO" /><param name="allowScriptAccess" value="always" /></object>',c=d.createElement("div"),j.prepend(c,d.body||d.documentElement),c.innerHTML=a)}function l(a){this.io=a}var h={},i="io_swf",g,d=a.Env.host.document,f=!1;a.augment(l,{send:function(){var b=
this,c=b.io,d=c.config;k((d.xdr||{}).src||a.Config.base+"io/io.swf",1,1);g?(b._uid=a.guid(),h[b._uid]=b,g.send(c._getUrlForSend(),{id:b._uid,uid:b._uid,method:d.type,data:d.hasContent&&d.data||{}})):setTimeout(function(){b.send()},200)},abort:function(){g.abort(this._uid)},_xdrResponse:function(a,c){var d,e=c.id,f,g=c.c,i=this.io;if(g&&(f=g.responseText))i.responseText=decodeURI(f);switch(a){case "success":d={status:200,statusText:"success"};delete h[e];break;case "abort":delete h[e];break;case "timeout":case "transport error":case "failure":delete h[e],
d={status:"status"in g?g.status:500,statusText:g.statusText||a}}d&&i._ioReady(d.status,d.statusText)}});e.applyTo=function(b,c,d){var b=c.split(".").slice(1),f=e;a.each(b,function(a){f=f[a]});f.apply(null,d)};e.xdrReady=function(){g=d.getElementById(i)};e.xdrResponse=function(a,c){var d=h[c.uid];d&&d._xdrResponse(a,c)};return l},{requires:["./base","dom"]});
KISSY.add("io/xhr-transport-base",function(a,e){function j(a,b){try{return new (b||l).XMLHttpRequest}catch(c){}}function k(a){var b;a.ifModified&&(b=a.uri,!1===a.cache&&(b=b.clone(),b.query.remove("_ksTS")),b=b.toString());return b}var l=a.Env.host,h=7<a.UA.ie&&l.XDomainRequest,i={proto:{}},g={},d={};e.__lastModifiedCached=g;e.__eTagCached=d;i.nativeXhr=l.ActiveXObject?function(a,b){var c;if(!i.supportCORS&&a&&h)c=new h;else if(!(c=!e.isLocal&&j(a,b)))a:{try{c=new (b||l).ActiveXObject("Microsoft.XMLHTTP");
break a}catch(d){}c=void 0}return c}:j;i._XDomainRequest=h;i.supportCORS="withCredentials"in i.nativeXhr();a.mix(i.proto,{sendInternal:function(){var a=this,b=a.io,c=b.config,e=a.nativeXhr,i=c.type,j=c.async,l,t=b.mimeType,r=b.requestHeaders||{},b=b._getUrlForSend(),s=k(c),q,u;if(s){if(q=g[s])r["If-Modified-Since"]=q;if(q=d[s])r["If-None-Match"]=q}(l=c.username)?e.open(i,b,j,l,c.password):e.open(i,b,j);if(i=c.xhrFields)for(u in i)e[u]=i[u];t&&e.overrideMimeType&&e.overrideMimeType(t);r["X-Requested-With"]||
(r["X-Requested-With"]="XMLHttpRequest");if("undefined"!==typeof e.setRequestHeader)for(u in r)e.setRequestHeader(u,r[u]);e.send(c.hasContent&&c.data||null);!j||4==e.readyState?a._callback():h&&e instanceof h?(e.onload=function(){e.readyState=4;e.status=200;a._callback()},e.onerror=function(){e.readyState=4;e.status=500;a._callback()}):e.onreadystatechange=function(){a._callback()}},abort:function(){this._callback(0,1)},_callback:function(f,b){var c=this.nativeXhr,i=this.io,j,l,p,t,r,s=i.config;try{if(b||
4==c.readyState)if(h&&c instanceof h?(c.onerror=a.noop,c.onload=a.noop):c.onreadystatechange=a.noop,b)4!==c.readyState&&c.abort();else{j=k(s);var q=c.status;h&&c instanceof h||(i.responseHeadersString=c.getAllResponseHeaders());j&&(l=c.getResponseHeader("Last-Modified"),p=c.getResponseHeader("ETag"),l&&(g[j]=l),p&&(d[p]=p));if((r=c.responseXML)&&r.documentElement)i.responseXML=r;i.responseText=c.responseText;try{t=c.statusText}catch(u){t=""}!q&&e.isLocal&&!s.crossDomain?q=i.responseText?200:404:1223===
q&&(q=204);i._ioReady(q,t)}}catch(v){c.onreadystatechange=a.noop,b||i._ioReady(-1,v)}}});return i},{requires:["./base"]});
KISSY.add("io/xhr-transport",function(a,e,j,k,l){function h(d){var e=d.config,b=e.crossDomain,c=e.xdr||{},h=c.subDomain=c.subDomain||{};this.io=d;if(b){e=e.uri.getHostname();if(i.domain&&a.endsWith(e,i.domain)&&!1!==h.proxy)return new k(d);if(!j.supportCORS&&("flash"===""+c.use||!g))return new l(d)}this.nativeXhr=j.nativeXhr(b);return this}var i=a.Env.host.document,g=j._XDomainRequest;a.augment(h,j.proto,{send:function(){this.sendInternal()}});e.setupTransport("*",h);return e},{requires:["./base",
"./xhr-transport-base","./sub-domain-transport","./xdr-flash-transport"]});
KISSY.add("cookie",function(a){function e(a){return"string"==typeof a&&""!==a}var j=a.Env.host.document,k=encodeURIComponent,l=a.urlDecode;return a.Cookie={get:function(a){var i,g;if(e(a)&&(g=(""+j.cookie).match(RegExp("(?:^| )"+a+"(?:(?:=([^;]*))|;|$)"))))i=g[1]?l(g[1]):"";return i},set:function(a,i,g,d,f,b){var i=""+k(i),c=g;"number"===typeof c&&(c=new Date,c.setTime(c.getTime()+864E5*g));c instanceof Date&&(i+="; expires="+c.toUTCString());e(d)&&(i+="; domain="+d);e(f)&&(i+="; path="+f);b&&(i+=
"; secure");j.cookie=a+"="+i},remove:function(a,e,g,d){this.set(a,"",-1,e,g,d)}}});
KISSY.add("base/attribute",function(a,e){function j(a,b){return"string"==typeof b?a[b]:b}function k(b,c,d,e,f,g,h){h=h||d;return b.fire(c+a.ucfirst(d)+"Change",{attrName:h,subAttrName:g,prevVal:e,newVal:f})}function l(a,b,c){var d=a[b]||{};c&&(a[b]=d);return d}function h(a){return l(a,"__attrs",!0)}function i(a){return l(a,"__attrVals",!0)}function g(a,b){for(var c=0,d=b.length;a!=e&&c<d;c++)a=a[b[c]];return a}function d(a,b){var c;!a.hasAttr(b)&&-1!==b.indexOf(".")&&(c=b.split("."),b=c.shift());
return{path:c,name:b}}function f(b,c,d){var f=d;if(c){var b=f=b===e?{}:a.clone(b),g=c.length-1;if(0<=g){for(var h=0;h<g;h++)b=b[c[h]];b!=e&&(b[c[h]]=d)}}return f}function b(a,b,c,h,j){var h=h||{},l,m,n;n=d(a,b);var o=b,b=n.name;l=n.path;n=a.get(b);l&&(m=g(n,l));if(!l&&n===c||l&&m===c)return e;c=f(n,l,c);if(!h.silent&&!1===k(a,"before",b,n,c,o))return!1;c=a.setInternal(b,c,h);if(!1===c)return c;h.silent||(c=i(a)[b],k(a,"after",b,n,c,o),j?j.push({prevVal:n,newVal:c,attrName:b,subAttrName:o}):k(a,"",
"*",[n],[c],[o],[b]));return a}function c(){}function m(a,b){var c=h(a),d=l(c,b),f=d.valueFn;if(f&&(f=j(a,f)))f=f.call(a),f!==e&&(d.value=f),delete d.valueFn,c[b]=d;return d.value}function n(a,b,c,g){var i,k;i=d(a,b);b=i.name;if(i=i.path)k=a.get(b),c=f(k,i,c);if((i=l(h(a),b,!0).validator)&&(i=j(a,i)))if(a=i.call(a,c,b,g),a!==e&&!0!==a)return a;return e}c.INVALID={};var o=c.INVALID;c.prototype={getAttrs:function(){return h(this)},getAttrVals:function(){var a={},b,c=h(this);for(b in c)a[b]=this.get(b);
return a},addAttr:function(b,c,d){var e=h(this),c=a.clone(c);e[b]?a.mix(e[b],c,d):e[b]=c;return this},addAttrs:function(b,c){var d=this;a.each(b,function(a,b){d.addAttr(b,a)});c&&d.set(c);return d},hasAttr:function(a){return h(this).hasOwnProperty(a)},removeAttr:function(a){this.hasAttr(a)&&(delete h(this)[a],delete i(this)[a]);return this},set:function(c,d,f){if(a.isPlainObject(c)){var f=d,d=Object(c),g=[],h,i=[];for(c in d)(h=n(this,c,d[c],d))!==e&&i.push(h);if(i.length)return f&&f.error&&f.error(i),
!1;for(c in d)b(this,c,d[c],f,g);var j=[],l=[],m=[],o=[];a.each(g,function(a){l.push(a.prevVal);m.push(a.newVal);j.push(a.attrName);o.push(a.subAttrName)});j.length&&k(this,"","*",l,m,o,j);return this}return b(this,c,d,f)},setInternal:function(a,b,c){var d,f,g=l(h(this),a,!0).setter;f=n(this,a,b);if(f!==e)return c.error&&c.error(f),!1;if(g&&(g=j(this,g)))d=g.call(this,b,a);if(d===o)return!1;d!==e&&(b=d);i(this)[a]=b},get:function(a){var b,c=this.hasAttr(a),d=i(this),f;!c&&-1!==a.indexOf(".")&&(b=
a.split("."),a=b.shift());c=l(h(this),a).getter;f=a in d?d[a]:m(this,a);if(c&&(c=j(this,c)))f=c.call(this,f,a);!(a in d)&&f!==e&&(d[a]=f);b&&(f=g(f,b));return f},reset:function(a,b){if("string"==typeof a)return this.hasAttr(a)?this.set(a,m(this,a),b):this;var b=a,c=h(this),d={};for(a in c)d[a]=m(this,a);this.set(d,b);return this}};return c});
KISSY.add("base",function(a,e,j){function k(a){var e=this.constructor;for(this.userConfig=a;e;){var i=e.ATTRS;if(i){var g=void 0;for(g in i)this.addAttr(g,i[g],!1)}e=e.superclass?e.superclass.constructor:null}if(a)for(var d in a)this.setInternal(d,a[d])}a.augment(k,j.Target,e);k.Attribute=e;return a.Base=k},{requires:["base/attribute","event/custom"]});
KISSY.add("anim/base",function(a,e,j,k,l){function h(a){this.config=a;this.el=e.get(a.el);this._backupProps={};this._propsData={};if(a=a.complete)this.on("complete",a)}var i=e.NodeType,g={toggle:1,hide:1,show:1};a.augment(h,k.Target,{prepareFx:function(){},runInternal:function(){var d=this,f=d.config,b=d.el,c,h=d._backupProps,k=d._propsData,l=f.props,p=f.delay||0,t=f.duration;j.saveRunningAnim(d);if(!1===d.fire("beforeStart"))d.stop(0);else{a.each(l,function(b,c){a.isPlainObject(b)||(b={value:b});
k[c]=a.mix({delay:p,easing:f.easing,frame:f.frame,duration:t},b)});if(b.nodeType==i.ELEMENT_NODE){var r,s;s="none"===e.css(b,"display");a.each(k,function(a,f){c=a.value;if(g[c]){if("hide"==c&&s||"show"==c&&!s)return d.stop(1),r=!1;h[f]=e.style(b,f);"toggle"==c?c=s?"show":"hide":"hide"==c?(a.value=0,h.display="none"):(a.value=e.css(b,f),e.css(b,f,0),e.show(b))}});if(!1===r)return}d.startTime=a.now();d.prepareFx();d.doStart()}},isRunning:function(){return j.isAnimRunning(this)},isPaused:function(){return j.isAnimPaused(this)},
pause:function(){this.isRunning()&&(this._runTime=a.now()-this.startTime,j.removeRunningAnim(this),j.savePausedAnim(this),this.doStop());return this},doStop:function(){},doStart:function(){},resume:function(){this.isPaused()&&(this.startTime=a.now()-this._runTime,j.removePausedAnim(this),j.saveRunningAnim(this),this.beforeResume(),this.doStart());return this},beforeResume:function(){},run:function(){var a;a=this.config.queue;!1===a?this.runInternal():(a=l.queue(this.el,a,this),1==a.length&&this.runInternal());
return this},stop:function(d){var f=this.el,b=this.config.queue;if(!this.isRunning()&&!this.isPaused())return!1!==b&&l.remove(f,b,this),this;j.removeRunningAnim(this);j.removePausedAnim(this);this.doStop(d);if(d){var c;a.isEmptyObject(c=this._backupProps)||e.css(this.el,c);this.fire("complete")}!1!==b&&(d=l.dequeue(f,b))&&d[0]&&d[0].runInternal();this.fire("end");return this}});h.Utils=j;h.Q=l;return h},{requires:["dom","./base/utils","event/custom","./base/queue"]});
KISSY.add("anim/base/queue",function(a,e){function j(a,g,d){var g=g||l,f,b=e.data(a,k);!b&&!d&&e.data(a,k,b={});b&&(f=b[g],!f&&!d&&(f=b[g]=[]));return f}var k=a.guid("ks-queue-"+a.now()+"-"),l=a.guid("ks-queue-"+a.now()+"-"),h;return h={queueCollectionKey:k,queue:function(a,e,d){a=j(a,e);a.push(d);return a},remove:function(e,g,d){var f=j(e,g,1);f&&(d=a.indexOf(d,f),-1<d&&f.splice(d,1));f&&!f.length&&h.clearQueue(e,g);return f},clearQueues:function(a){e.removeData(a,k)},clearQueue:function(h,g){var g=
g||l,d=e.data(h,k);d&&delete d[g];a.isEmptyObject(d)&&e.removeData(h,k)},dequeue:function(a,e){var d=j(a,e,1);d&&(d.shift(),d.length||h.clearQueue(a,e));return d}}},{requires:["dom"]});
KISSY.add("anim/base/utils",function(a,e,j,k){var l=a.guid("ks-anim-unqueued-"+a.now()+"-"),h=a.guid("ks-anim-paused-"+a.now()+"-");return{saveRunningAnim:function(h){var g=h.el,d=e.data(g,l);d||e.data(g,l,d={});d[a.stamp(h)]=h},removeRunningAnim:function(h){var g=h.el,d=e.data(g,l);d&&(delete d[a.stamp(h)],a.isEmptyObject(d)&&e.removeData(g,l))},isAnimPaused:function(i){var g=e.data(i.el,h);return g?!!g[a.stamp(i)]:0},removePausedAnim:function(i){var g=i.el,d=e.data(g,h);d&&(delete d[a.stamp(i)],
a.isEmptyObject(d)&&e.removeData(g,h))},savePausedAnim:function(i){var g=i.el,d=e.data(g,h);d||e.data(g,h,d={});d[a.stamp(i)]=i},isAnimRunning:function(h){var g=e.data(h.el,l);return g?!!g[a.stamp(h)]:0},isElPaused:function(i){return(i=e.data(i,h))&&!a.isEmptyObject(i)},isElRunning:function(h){return(h=e.data(h,l))&&!a.isEmptyObject(h)},pauseOrResumeQueue:function(i,g,d){i=e.data(i,"resume"==d?h:l);i=a.merge(i);a.each(i,function(a){if(g===k||a.config.queue==g)a[d]()})},stopEl:function(h,g,d,f){d&&
(f===k?j.clearQueues(h):!1!==f&&j.clearQueue(h,f));h=e.data(h,l);h=a.merge(h);a.each(h,function(a){(f===k||a.config.queue==f)&&a.stop(g)})}}},{requires:["dom","./queue"]});
KISSY.add("anim/facade",function(a,e,j,k,l){function h(d,e,b,c,h){if(d.el)h=d;else{"string"==typeof e?(e=a.unparam(""+e,";",":"),a.each(e,function(b,c){var d=a.trim(c);d&&(e[d]=a.trim(b));(!d||d!=c)&&delete e[c]})):e=a.clone(e);if(a.isPlainObject(b))h=a.clone(b);else if(h={complete:h},b&&(h.duration=b),c)h.easing=c;h.el=d;h.props=e}h=a.merge(g,h,{useTransition:a.config("anim/useTransition")});return h.useTransition&&l?new l(h):new k(h)}var i=j.Utils,g={duration:1,easing:"linear"};a.each(["pause",
"resume"],function(a){h[a]=function(e,b){return null===b||"string"==typeof b||!1===b?i.pauseOrResumeQueue(e,b,a):i.pauseOrResumeQueue(e,void 0,a)}});h.isRunning=i.isElRunning;h.isPaused=i.isElPaused;h.stop=i.stopEl;h.Easing=k.Easing;a.Anim=h;h.Q=j.Q;return h},{requires:["dom","anim/base","anim/timer",KISSY.Features.isTransitionSupported()?"anim/transition":""]});
KISSY.add("anim/timer/color",function(a,e,j,k){function l(a){var a=a+"",e;if(e=a.match(f))return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3])];if(e=a.match(b))return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3]),parseInt(e[4])];if(e=a.match(c)){for(a=1;a<e.length;a++)2>e[a].length&&(e[a]+=e[a]);return[parseInt(e[1],i),parseInt(e[2],i),parseInt(e[3],i)]}return d[a=a.toLowerCase()]?d[a]:[255,255,255]}function h(){h.superclass.constructor.apply(this,arguments)}var i=16,g=Math.floor,d={black:[0,0,0],silver:[192,
192,192],gray:[128,128,128],white:[255,255,255],maroon:[128,0,0],red:[255,0,0],purple:[128,0,128],fuchsia:[255,0,255],green:[0,128,0],lime:[0,255,0],olive:[128,128,0],yellow:[255,255,0],navy:[0,0,128],blue:[0,0,255],teal:[0,128,128],aqua:[0,255,255]},f=/^rgb\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\)$/i,b=/^rgba\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+),\s*([0-9]+)\)$/i,c=/^#?([0-9A-F]{1,2})([0-9A-F]{1,2})([0-9A-F]{1,2})$/i;k.background.push("backgroundColor");k.borderColor=["borderBottomColor","borderLeftColor",
"borderRightColor","borderTopColor"];k.border.push("borderBottomColor","borderLeftColor","borderRightColor","borderTopColor");k.borderBottom.push("borderBottomColor");k.borderLeft.push("borderLeftColor");k.borderRight.push("borderRightColor");k.borderTop.push("borderTopColor");a.extend(h,j,{load:function(){h.superclass.load.apply(this,arguments);this.from&&(this.from=l(this.from));this.to&&(this.to=l(this.to))},interpolate:function(b,c,d){var e=h.superclass.interpolate;return 3==b.length&&3==c.length?
"rgb("+[g(e(b[0],c[0],d)),g(e(b[1],c[1],d)),g(e(b[2],c[2],d))].join(", ")+")":4==b.length||4==c.length?"rgba("+[g(e(b[0],c[0],d)),g(e(b[1],c[1],d)),g(e(b[2],c[2],d)),g(e(b[3]||1,c[3]||1,d))].join(", ")+")":a.log("anim/color unknown value : "+b)}});a.each("backgroundColor,borderBottomColor,borderLeftColor,borderRightColor,borderTopColor,color,outlineColor".split(","),function(a){j.Factories[a]=h});return h},{requires:["dom","./fx","./short-hand"]});
KISSY.add("anim/timer/easing",function(){function a(a){return a}function e(a,c,e,g){var h=3*a-3*e+1,i=3*e-6*a,j=3*a,k=3*c-3*g+1,l=3*g-6*c,q=3*c;return function(a){a:{for(var b=a,c,e,g=0;8>g;g++){e=((h*b+i)*b+j)*b-a;if(f(e)<d){a=b;break a}c=(3*h*b+2*i)*b+j;if(f(c)<d)break;b-=e/c}c=1;g=0;for(b=a;c>g;){e=((h*b+i)*b+j)*b-a;if(f(e)<d)break;0<e?c=b:g=b;b=(c+g)/2}a=b}return((k*a+l)*a+q)*a}}var j=Math.PI,k=Math.pow,l=Math.sin,h=parseFloat,i=/^cubic-bezier\(([^,]+),([^,]+),([^,]+),([^,]+)\)$/i,g={swing:function(a){return-Math.cos(a*
j)/2+0.5},easeNone:a,linear:a,easeIn:function(a){return a*a},ease:e(0.25,0.1,0.25,1),"ease-in":e(0.42,0,1,1),"ease-out":e(0,0,0.58,1),"ease-in-out":e(0.42,0,0.58,1),"ease-out-in":e(0,0.42,1,0.58),toFn:function(b){var c;return(c=b.match(i))?e(h(c[1]),h(c[2]),h(c[3]),h(c[4])):g[b]||a},easeOut:function(a){return(2-a)*a},easeBoth:function(a){return 1>(a*=2)?0.5*a*a:0.5*(1- --a*(a-2))},easeInStrong:function(a){return a*a*a*a},easeOutStrong:function(a){return 1- --a*a*a*a},easeBothStrong:function(a){return 1>
(a*=2)?0.5*a*a*a*a:0.5*(2-(a-=2)*a*a*a)},elasticIn:function(a){return 0===a||1===a?a:-(k(2,10*(a-=1))*l((a-0.075)*2*j/0.3))},elasticOut:function(a){return 0===a||1===a?a:k(2,-10*a)*l((a-0.075)*2*j/0.3)+1},elasticBoth:function(a){return 0===a||2===(a*=2)?a:1>a?-0.5*k(2,10*(a-=1))*l((a-0.1125)*2*j/0.45):0.5*k(2,-10*(a-=1))*l((a-0.1125)*2*j/0.45)+1},backIn:function(a){1===a&&(a-=0.001);return a*a*(2.70158*a-1.70158)},backOut:function(a){return(a-=1)*a*(2.70158*a+1.70158)+1},backBoth:function(a){var c,
d=(c=2.5949095)+1;return 1>(a*=2)?0.5*a*a*(d*a-c):0.5*((a-=2)*a*(d*a+c)+2)},bounceIn:function(a){return 1-g.bounceOut(1-a)},bounceOut:function(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+0.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+0.9375:7.5625*(a-=2.625/2.75)*a+0.984375},bounceBoth:function(a){return 0.5>a?0.5*g.bounceIn(2*a):0.5*g.bounceOut(2*a-1)+0.5}},d=1.0E-6,f=Math.abs;return g});
KISSY.add("anim/timer/fx",function(a,e,j){function k(a){this.load(a)}function l(a,i){return(!a.style||null==a.style[i])&&null!=e.attr(a,i,j,1)?1:0}k.prototype={isBasicFx:1,constructor:k,load:function(e){a.mix(this,e);this.pos=0;this.unit=this.unit||""},frame:function(a){this.pos=a;this.update();this.finished=this.finished||1==a},interpolate:function(e,i,g){return a.isNumber(e)&&a.isNumber(i)?(e+(i-e)*g).toFixed(3):j},update:function(){var a=this.prop,i=this.anim.el,g=this.to,d=this.interpolate(this.from,
g,this.pos);d===j?this.finished||(this.finished=1,e.css(i,a,g)):(d+=this.unit,l(i,a)?e.attr(i,a,d,1):e.css(i,a,d))},cur:function(){var a=this.prop,i=this.anim.el;if(l(i,a))return e.attr(i,a,j,1);var g,a=e.css(i,a);return isNaN(g=parseFloat(a))?!a||"auto"===a?0:a:g}};k.Factories={};k.getPos=function(e,i){var g=a.now(),d=i.duration,g=g-e.startTime-i.delay;return 0>=g?0:g>=d?1:i.easing(g/d)};k.getFx=function(a){return new (k.Factories[a.prop]||k)(a)};return k},{requires:["dom"]});
KISSY.add("anim/timer/manager",function(a,e){var j=a.stamp,k=a.Env.host,l=k.requestAnimationFrame,h=k.cancelAnimationFrame;if(!l)for(var i=["ms","moz","webkit","o"],g=0;g<i.length&&!l;++g)l=k[i[g]+"RequestAnimationFrame"],h=k[i[g]+"CancelAnimationFrame"]||k[i[g]+"CancelRequestAnimationFrame"];l||(l=function(a){return setTimeout(a,15)},h=function(a){clearTimeout(a)});return{runnings:{},timer:null,start:function(a){var e=j(a);if(!this.runnings[e]){this.runnings[e]=a;this.startTimer()}},stop:function(a){this.notRun(a)},
notRun:function(d){delete this.runnings[j(d)];a.isEmptyObject(this.runnings)&&this.stopTimer()},pause:function(a){this.notRun(a)},resume:function(a){this.start(a)},startTimer:function(){var a=this;if(!a.timer)a.timer=l(function b(){a.runFrames()?a.stopTimer():a.timer=l(b)})},stopTimer:function(){var a=this.timer;if(a){h(a);this.timer=0}},runFrames:function(){var a,f,b=this.runnings;for(a in b){b[a].frame();f=0}return f===e}}});
KISSY.add("anim/timer/short-hand",function(){return{background:[],border:["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth"],borderBottom:["borderBottomWidth"],borderLeft:["borderLeftWidth"],borderTop:["borderTopWidth"],borderRight:["borderRightWidth"],font:["fontSize","fontWeight"],margin:["marginBottom","marginLeft","marginRight","marginTop"],padding:["paddingBottom","paddingLeft","paddingRight","paddingTop"]}});
KISSY.add("anim/timer",function(a,e,j,k,l,h,i,g){function d(){var c;d.superclass.constructor.apply(this,arguments);a.each(c=this.props,function(a,b){var d=f(b);b!=d&&(c[d]=c[b],delete c[b])})}var f=e._camelCase,b=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i;a.extend(d,k,{prepareFx:function(){var c=this.el,d=this._propsData;a.each(d,function(a){a.duration*=1E3;a.delay*=1E3;"string"==typeof a.easing&&(a.easing=l.toFn(a.easing))});a.each(g,function(b,f){var g,h=d[f],i;h&&!h.fx&&(i=h.value,g={},a.each(b,function(a){g[a]=
e.css(c,a)}),e.css(c,f,i),a.each(g,function(b,f){f in d||(d[f]=a.merge(h,{value:e.css(c,f)}));e.css(c,f,b)}),delete d[f])});var f,h,j,k,r,s,q,u,v;for(f in d)if(h=d[f],h.fx)h.fx.prop=f;else{j=h.value;s={prop:f,anim:this,propData:h};q=i.getFx(s);k=j;r=q.cur();j+="";u="";if(v=j.match(b)){k=parseFloat(v[2]);if((u=v[3])&&"px"!==u)e.css(c,f,j),r*=k/q.cur(),e.css(c,f,r+u);v[1]&&(k=("-="===v[1]?-1:1)*k+r)}s.from=r;s.to=k;s.unit=u;q.load(s);h.fx=q}},frame:function(){var a,b=1,d,e,f,g,h=this._propsData;for(a in h)if(g=
h[a],e=g.fx,!e.finished&&(f=i.getPos(this,g),0!=f)){e.pos=f;if(e.isBasicFx){if(e.from==e.to){e.finished=e.finished||1==f;continue}d=0;if(g.frame&&(d=g.frame(this,e),!this.isRunning()))return;!1!==d&&e.frame(e.finished||f)}else if(e.finished=e.finished||1==f,e.frame(this,e),!this.isRunning())return;b&=e.finished}(!1===this.fire("step")||b)&&this.stop(b)},doStop:function(a){var b,d,e,f=this._propsData;h.stop(this);if(a)for(b in f)if(e=f[b],(a=e.fx)&&!a.finished)a.pos=1,a.isBasicFx?(d=0,e.frame&&(d=
e.frame(this,a)),!1!==d&&a.frame(1)):a.frame(this,a),a.finished=1},doStart:function(){h.start(this)}});d.Easing=l;return d},{requires:"dom,event,./base,./timer/easing,./timer/manager,./timer/fx,./timer/short-hand,./timer/color".split(",")});
KISSY.add("anim/transition",function(a,e,j,k){function l(a){return a.replace(/[A-Z]/g,function(a){return"-"+a.toLowerCase()})}function h(b){var c="";a.each(b,function(a,b){c&&(c+=",");c+=b+" "+a.duration+"s "+a.easing+" "+a.delay+"s"});return c}function i(a){i.superclass.constructor.apply(this,arguments)}var g=a.Features.getCss3Prefix(),d=g?g.toLowerCase()+"TransitionEnd":"transitionend",g=g?l(g)+"-":"",f=g+"transition";a.extend(i,k,{doStart:function(){var b=this,c=b.el,g=c.style,i=b._propsData,k=
g[f],l={};a.each(i,function(a,d){var f=a.value,g=e.css(c,d);"number"==typeof f&&(g=parseFloat(g));g==f&&setTimeout(function(){b._onTransitionEnd({originalEvent:{propertyName:d}})},0);l[d]=f});-1!=k.indexOf("none")?k="":k&&(k+=",");g[f]=k+h(i);j.on(c,d,b._onTransitionEnd,b);e.css(c,l)},beforeResume:function(){var b=this._propsData,c=a.merge(b),d=this._runTime/1E3;a.each(c,function(a,c){var e=d;a.delay>=e?a.delay-=e:(e-=a.delay,a.delay=0,a.duration>=e?a.duration-=e:delete b[c])})},_onTransitionEnd:function(b){var b=
b.originalEvent,c=1,d=this._propsData;d[b.propertyName]&&(d[b.propertyName].finished=1,a.each(d,function(a){if(!a.finished)return c=0,!1}),c&&this.stop(!0))},doStop:function(b){var c=this.el,g=c.style,h=this._propsData,i=[],k={};j.detach(c,d,this._onTransitionEnd,this);a.each(h,function(a,d){b||(k[d]=e.css(c,d));i.push(d)});h=a.trim(g[f].replace(RegExp("(^|,)\\s*(?:"+i.join("|")+")\\s+[^,]+","gi"),"$1")).replace(/^,|,,|,$/g,"")||"none";g[f]=h;e.css(c,k)}});return i},{requires:["dom","event","./base"]});
KISSY.add("node/anim",function(a,e,j,k,l){function h(a,d,e){for(var b=[],c={},e=e||0;e<d;e++)b.push.apply(b,i[e]);for(e=0;e<b.length;e++)c[b[e]]=a;return c}var i=[["height","margin-top","margin-bottom","padding-top","padding-bottom"],["width","margin-left","margin-right","padding-left","padding-right"],["opacity"]];a.augment(k,{animate:function(e){var d=a.makeArray(arguments);a.each(this,function(e){var b=a.clone(d),c=b[0];c.props?(c.el=e,j(c).run()):j.apply(l,[e].concat(b)).run()});return this},
stop:function(e,d,f){a.each(this,function(a){j.stop(a,e,d,f)});return this},pause:function(e,d){a.each(this,function(a){j.pause(a,d)});return this},resume:function(e,d){a.each(this,function(a){j.resume(a,d)});return this},isRunning:function(){for(var a=0;a<this.length;a++)if(j.isRunning(this[a]))return!0;return!1},isPaused:function(){for(var a=0;a<this.length;a++)if(j.isPaused(this[a]))return!0;return!1}});a.each({show:h("show",3),hide:h("hide",3),toggle:h("toggle",3),fadeIn:h("show",3,2),fadeOut:h("hide",
3,2),fadeToggle:h("toggle",3,2),slideDown:h("show",1),slideUp:h("hide",1),slideToggle:h("toggle",1)},function(g,d){k.prototype[d]=function(f,b,c){if(e[d]&&!f)e[d](this);else a.each(this,function(a){j(a,g,f,c,b).run()});return this}})},{requires:["dom","anim","./base"]});
KISSY.add("node/attach",function(a,e,j,k,l){function h(a,f,b){b.unshift(f);a=e[a].apply(e,b);return a===l?f:a}var i=k.prototype,g=a.makeArray;k.KeyCodes=j.KeyCodes;a.each("nodeName,equals,contains,index,scrollTop,scrollLeft,height,width,innerHeight,innerWidth,outerHeight,outerWidth,addStyleSheet,appendTo,prependTo,insertBefore,before,after,insertAfter,test,hasClass,addClass,removeClass,replaceClass,toggleClass,removeAttr,hasAttr,hasProp,scrollIntoView,remove,empty,removeData,hasData,unselectable,wrap,wrapAll,replaceWith,wrapInner,unwrap".split(","),function(a){i[a]=
function(){var e=g(arguments);return h(a,this,e)}});a.each("filter,first,last,parent,closest,next,prev,clone,siblings,contents,children".split(","),function(a){i[a]=function(){var f=g(arguments);f.unshift(this);f=e[a].apply(e,f);return f===l?this:f===null?null:new k(f)}});a.each({attr:1,text:0,css:1,style:1,val:0,prop:1,offset:0,html:0,outerHTML:0,data:1},function(d,f){i[f]=function(){var b;b=g(arguments);b[d]===l&&!a.isObject(b[0])?(b.unshift(this),b=e[f].apply(e,b)):b=h(f,this,b);return b}});a.each("on,detach,fire,fireHandler,delegate,undelegate".split(","),
function(a){i[a]=function(){var e=g(arguments);e.unshift(this);j[a].apply(j,e);return this}})},{requires:["dom","event/dom","./base"]});
KISSY.add("node/base",function(a,e,j){function k(b,c,h){if(!(this instanceof k))return new k(b,c,h);if(b)if("string"==typeof b){if(b=e.create(b,c,h),b.nodeType===i.DOCUMENT_FRAGMENT_NODE)return g.apply(this,d(b.childNodes)),this}else{if(a.isArray(b)||f(b))return g.apply(this,d(b)),this}else return this;this[0]=b;this.length=1;return this}var l=Array.prototype,h=l.slice,i=e.NodeType,g=l.push,d=a.makeArray,f=e._isNodeList;k.prototype={constructor:k,isNodeList:!0,length:0,item:function(b){return a.isNumber(b)?
b>=this.length?null:new k(this[b]):new k(b)},add:function(b,c,d){a.isNumber(c)&&(d=c,c=j);b=k.all(b,c).getDOMNodes();c=new k(this);d===j?g.apply(c,b):(d=[d,0],d.push.apply(d,b),l.splice.apply(c,d));return c},slice:function(a,c){return new k(h.apply(this,arguments))},getDOMNodes:function(){return h.call(this)},each:function(b,c){var d=this;a.each(d,function(a,e){a=new k(a);return b.call(c||a,a,e,d)});return d},getDOMNode:function(){return this[0]},end:function(){return this.__parent||this},all:function(a){a=
0<this.length?k.all(a,this):new k;a.__parent=this;return a},one:function(a){a=this.all(a);if(a=a.length?a.slice(0,1):null)a.__parent=this;return a}};a.mix(k,{all:function(b,c){return"string"==typeof b&&(b=a.trim(b))&&3<=b.length&&a.startsWith(b,"<")&&a.endsWith(b,">")?(c&&(c.getDOMNode&&(c=c[0]),c=c.ownerDocument||c),new k(b,j,c)):new k(e.query(b,c))},one:function(a,c){var d=k.all(a,c);return d.length?d.slice(0,1):null}});k.NodeType=i;return k},{requires:["dom"]});
KISSY.add("node",function(a,e){a.mix(a,{Node:e,NodeList:e,one:e.one,all:e.all});return e},{requires:["node/base","node/attach","node/override","node/anim"]});
KISSY.add("node/override",function(a,e,j){var k=j.prototype;a.each(["append","prepend","before","after"],function(a){k[a]=function(h){"string"==typeof h&&(h=e.create(h));if(h)e[a](h,this);return this}});a.each(["wrap","wrapAll","replaceWith","wrapInner"],function(a){var e=k[a];k[a]=function(a){"string"==typeof a&&(a=j.all(a,this[0].ownerDocument));return e.call(this,a)}})},{requires:["dom","./base"]});KISSY.use("ua,dom,event,node,json,io,anim,base,cookie",0,1);
